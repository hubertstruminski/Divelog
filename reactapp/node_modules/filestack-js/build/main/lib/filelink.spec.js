"use strict";
/*
 * Copyright (c) 2019 by Filestack.
 * Some rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", { value: true });
var filelink_1 = require("./filelink");
var transforms_schema_1 = require("./../schema/transforms.schema");
var validator = require("../schema");
describe('filelink', function () {
    beforeAll(function () {
        spyOn(validator, 'getValidator').and.callThrough();
    });
    var defaultSource = '5aYkEQJSQCmYShsoCnZN';
    var defaultApikey = 'DEFAULT_API_KEY';
    it('should properly instantiate Filelink', function () {
        var filelink = new filelink_1.Filelink(defaultSource);
        expect(filelink).toBeDefined();
        expect(filelink).toBeInstanceOf(filelink_1.Filelink);
    });
    it('should throw an error when handle is invalid', function () {
        var source = '*/5aYkEQJSQCmYShsoCnZN';
        expect(function () {
            var f = new filelink_1.Filelink(source);
        }).toThrow('Invalid filestack source provided');
    });
    it('should throw an error when external handle and without apikey', function () {
        var source = 'src://test123/example.jpg';
        expect(function () {
            var filelink = new filelink_1.Filelink(source);
        }).toThrow('External sources requires apikey to handle transforms');
    });
    it('should be able to convert filelink to string', function () {
        var filelink = new filelink_1.Filelink(defaultSource);
        var result = filelink.toString();
        expect(result).toBe('https://cdn.filestackcontent.com/5aYkEQJSQCmYShsoCnZN');
    });
    it('should allow to set validator status with toString method', function () {
        var filelink = new filelink_1.Filelink(defaultSource);
        filelink.setUseValidator(false);
        expect(filelink.resize({
            // @ts-ignore
            t: 1,
        }).toString()).toEqual('https://cdn.filestackcontent.com/resize=t:1/5aYkEQJSQCmYShsoCnZN');
    });
    it('should allow to set validator status with getTransformations method', function () {
        var filelink = new filelink_1.Filelink(defaultSource);
        filelink.setUseValidator(false);
        filelink.resize({
            // @ts-ignore
            t: 1,
        });
        expect(filelink.getTransformations()).toEqual([{
                name: 'resize',
                params: { t: 1 },
            }]);
    });
    it('should create filelink with apikey when is provided', function () {
        var filelink = new filelink_1.Filelink(defaultSource, defaultApikey);
        var result = filelink.toString();
        expect(result).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to use many tasks at once and reset them', function () {
        var filelink = new filelink_1.Filelink(defaultSource);
        var resizeParams = {
            width: 200,
        };
        var rotateParams = {
            deg: 90,
        };
        filelink
            .resize(resizeParams)
            .rotate(rotateParams)
            .crop({
            dim: [20, 20, 250, 250],
        });
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/resize=width:200/rotate=deg:90/crop=dim:[20,20,250,250]/5aYkEQJSQCmYShsoCnZN');
        filelink.reset();
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to get transformations', function () {
        var filelink = new filelink_1.Filelink(defaultSource);
        var resizeParams = {
            width: 200,
        };
        var rotateParams = {
            deg: 90,
        };
        filelink
            .resize(resizeParams)
            .rotate(rotateParams)
            .crop({
            dim: [20, 20, 250, 250],
        });
        var expected = [{ name: 'resize', params: { width: 200 } }, { name: 'rotate', params: { deg: 90 } }, { name: 'crop', params: { dim: [20, 20, 250, 250] } }];
        expect(filelink.getTransformations()).toEqual(expected);
    });
    it('should be able to getValidationSchema', function () {
        var filelink = new filelink_1.Filelink(defaultSource);
        var result = filelink.getValidationSchema();
        expect(result).toEqual(transforms_schema_1.TransformSchema);
    });
    it('should not require apikay on filestack external url', function () {
        var filelink = new filelink_1.Filelink('https://cdn.filestackcontent.com/5aYkEQJSQCmYShsoCnZN');
        filelink.shadow(false).upscale();
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/upscale/\"https://cdn.filestackcontent.com/5aYkEQJSQCmYShsoCnZN\"');
    });
    it('should be able to disable selected task', function () {
        var filelink = new filelink_1.Filelink(defaultSource);
        filelink.shadow(false).upscale();
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/upscale/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to create filelink for many handles', function () {
        var sourceArr = ['5aYkEQJSQCmYShsoCnZN', '4aYkEQJSQCmYShsoCnZN'];
        var filelink = new filelink_1.Filelink(sourceArr);
        expect(filelink.toString()).toEqual('https://cdn.filestackcontent.com/[5aYkEQJSQCmYShsoCnZN,4aYkEQJSQCmYShsoCnZN]');
        filelink.setBase64(true);
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/b64://WzVhWWtFUUpTUUNtWVNoc29DblpOLDRhWWtFUUpTUUNtWVNoc29DblpOXQ==');
    });
    it('should be able to create filelink for many src handles', function () {
        var sourceArr = ['src://test123/example.jpg', 'src://test123/flug_9-trans_atlantik-400dpi.jpg'];
        var filelink = new filelink_1.Filelink(sourceArr, defaultApikey);
        expect(filelink.toString()).toEqual('https://cdn.filestackcontent.com/DEFAULT_API_KEY/["src://test123/example.jpg","src://test123/flug_9-trans_atlantik-400dpi.jpg"]');
    });
    it('should throw an error if task params are not valid', function () {
        var filelink = new filelink_1.Filelink(defaultSource);
        expect(function () {
            // @ts-ignore
            filelink.resize({ r: 2 }).toString();
        }).toThrow('Params validation error');
    });
    it('should omit transformations with empty options', function () {
        var filelink = new filelink_1.Filelink(defaultSource);
        filelink.upscale(false);
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/5aYkEQJSQCmYShsoCnZN');
    });
    it('should throw an error if source does not exists', function () {
        expect(function () {
            return new filelink_1.Filelink('');
        }).toThrow('Source not Set');
    });
    describe('Different tasks', function () {
        var filelink = new filelink_1.Filelink(defaultSource, defaultApikey);
        afterEach(function () {
            filelink = new filelink_1.Filelink(defaultSource, defaultApikey);
        });
        it('should be able to create filelink when handle is base64', function () {
            filelink.upscale();
            filelink.setBase64(true);
            expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/b64/W3sibmFtZSI6InVwc2NhbGUifV0=/b64://NWFZa0VRSlNRQ21ZU2hzb0NuWk4=');
        });
        it('should be able to use custom cname', function () {
            var cname = 'newcname.com';
            filelink.setCname(cname);
            expect(filelink.toString()).toBe('https://cdn.newcname.com/DEFAULT_API_KEY/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to use custom domain', function () {
            var customDomain = 'https://customDomain.com';
            filelink.setCustomDomain(customDomain);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to autoImage transformation', function () {
            filelink.autoImage();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/auto_image/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to add flip', function () {
            filelink.flip();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/flip/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to add flop', function () {
            filelink.flop();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/flop/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to enhance', function () {
            filelink.enhance();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/enhance/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to redeye', function () {
            filelink.redeye();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/redeye/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to monochrome', function () {
            filelink.monochrome();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/monochrome/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to negative', function () {
            filelink.negative();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/negative/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to tags', function () {
            filelink.tags();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/tags/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to sfw', function () {
            filelink.sfw();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/sfw/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to store', function () {
            var storeParams = {};
            filelink.store(storeParams);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/store/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to disable cache', function () {
            filelink.cache(false);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/cache=false/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to set cache params', function () {
            var cacheParams = {
                expiry: 666,
            };
            filelink.cache(cacheParams);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/cache=expiry:666/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able add animation transform', function () {
            var params = {
                loop: 1,
                delay: 10,
                width: 10,
                height: 10,
                fit: filelink_1.FitOptions.scale,
                background: 'transparent',
                align: [filelink_1.Align.top, filelink_1.Align.center],
            };
            filelink.animate(params);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/animate=loop:1,delay:10,width:10,height:10,fit:scale,background:transparent,align:[top,center]/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to resize', function () {
            var resizeParams = {
                width: 200,
            };
            filelink.resize(resizeParams);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/resize=width:200/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to crop', function () {
            filelink.crop({
                dim: [20, 20, 250, 250],
            });
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/crop=dim:[20,20,250,250]/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to rotate', function () {
            var rotateParams = {
                deg: 90,
            };
            filelink.rotate(rotateParams);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/rotate=deg:90/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to detect faces', function () {
            filelink.detectFaces({});
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/detect_faces/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to crop faces', function () {
            filelink.cropFaces({});
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/crop_faces/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to pixelate faces', function () {
            filelink.pixelateFaces({});
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/pixelate_faces/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to blur faces', function () {
            var blurFacesParams = {
                amount: 3,
                blur: 5,
                type: filelink_1.ShapeType.oval,
            };
            filelink.blurFaces(blurFacesParams);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/blur_faces=amount:3,blur:5,type:oval/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to round cornerns', function () {
            var roundedCornersParams = {
                radius: 50,
                blur: 5,
            };
            filelink.roundedCorners(roundedCornersParams);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/rounded_corners=radius:50,blur:5/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to polaroid', function () {
            var polaroidParams = {
                color: 'ff0000',
                rotate: 50,
            };
            filelink.polaroid(polaroidParams);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/polaroid=color:ff0000,rotate:50/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to vignette', function () {
            var vignetteParams = {
                background: 'ff0000',
                amount: 5,
            };
            filelink.vignette(vignetteParams);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/vignette=background:ff0000,amount:5/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to tornEdges', function () {
            filelink.tornEdges({});
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/torn_edges/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to shadow', function () {
            filelink.shadow();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/shadow/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to circle', function () {
            filelink.circle({});
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/circle/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to border', function () {
            filelink.border();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/border/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to vignette', function () {
            filelink.vignette({});
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/vignette/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to sharpen', function () {
            var sharpenParams = {
                amount: 5,
            };
            filelink.sharpen(sharpenParams);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/sharpen=amount:5/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to blur', function () {
            var blurParams = {
                amount: 5,
            };
            filelink.blur(blurParams);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/blur=amount:5/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to blackwhite', function () {
            var blackwhiteParams = {
                threshold: 50,
            };
            filelink.blackwhite(blackwhiteParams);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/blackwhite=threshold:50/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to sepia', function () {
            filelink.sepia();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/sepia/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to pixelate', function () {
            filelink.pixelate();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/pixelate/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to oilPaint', function () {
            filelink.oilPaint();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/oil_paint/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to modulate', function () {
            filelink.modulate();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/modulate/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to partialPixelate', function () {
            filelink.partialPixelate({
                objects: [[20, 20, 50, 50]],
            });
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/partial_pixelate=objects:[[20,20,50,50]]/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to partialBlur', function () {
            filelink.partialBlur({
                amount: 5,
                objects: [[20, 20, 50, 50]],
            });
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/partial_blur=amount:5,objects:[[20,20,50,50]]/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to collage', function () {
            filelink.collage({
                files: ['http://welcome-swiss.com/wp-content/uploads/2015/12/Swiss-landscape.jpg'],
                width: 200,
                height: 200,
            });
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/collage=files:["http://welcome-swiss.com/wp-content/uploads/2015/12/Swiss-landscape.jpg"],width:200,height:200/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to upscale', function () {
            filelink.upscale();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/upscale/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to ascii', function () {
            filelink.ascii();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/ascii/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to quality', function () {
            var qualityParams = {
                value: 5,
            };
            filelink.quality(qualityParams);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/quality=value:5/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to use security', function () {
            var securityParams = {
                policy: 'examplePolicy',
                signature: 'exampleSignature',
            };
            filelink.security(securityParams);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/security=policy:examplePolicy,signature:exampleSignature/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able output', function () {
            var outputParams = {
                format: 'png',
            };
            filelink.output(outputParams);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/output=format:png/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to videoConvert', function () {
            var videoConvertParams = {
                aspect_mode: filelink_1.VideoAccessMode.letterbox,
                upscale: true,
            };
            filelink.videoConvert(videoConvertParams);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/video_convert=aspect_mode:letterbox,upscale:true/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to URLScreenshot', function () {
            filelink.URLScreenshot();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/urlscreenshot/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to PDFInfo', function () {
            filelink.PDFInfo();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/pdfinfo/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to PDFConvert', function () {
            filelink.PDFConvert();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/pdfconvert/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to force cache', function () {
            filelink.cache(true);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/cache/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to add fallback transformation', function () {
            filelink.fallback({
                handle: 'http:test.com',
            });
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/fallback=handle:http:test.com/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to add zip trnasformation', function () {
            filelink.zip();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/zip/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to add minify js transformation', function () {
            filelink.minifyJs({
                mangle: true,
                gzip: true,
            });
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/minify_js=mangle:true,gzip:true/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to add minify css transformation', function () {
            filelink.minifyCss({
                level: 1,
                gzip: true,
            });
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/minify_css=level:1,gzip:true/5aYkEQJSQCmYShsoCnZN');
        });
    });
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9saWIvZmlsZWxpbmsuc3BlYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7Ozs7Ozs7Ozs7Ozs7OztHQWVHOztBQUVILHVDQUFzRztBQUN0RyxtRUFBZ0U7QUFDaEUscUNBQXVDO0FBRXZDLFFBQVEsQ0FBQyxVQUFVLEVBQUU7SUFFbkIsU0FBUyxDQUFDO1FBQ1IsS0FBSyxDQUFDLFNBQVMsRUFBRSxjQUFjLENBQUMsQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDckQsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFNLGFBQWEsR0FBRyxzQkFBc0IsQ0FBQztJQUM3QyxJQUFNLGFBQWEsR0FBRyxpQkFBaUIsQ0FBQztJQUV4QyxFQUFFLENBQUMsc0NBQXNDLEVBQUU7UUFDekMsSUFBTSxRQUFRLEdBQUcsSUFBSSxtQkFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQzdDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUMvQixNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsY0FBYyxDQUFDLG1CQUFRLENBQUMsQ0FBQztJQUM1QyxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyw4Q0FBOEMsRUFBRTtRQUNqRCxJQUFNLE1BQU0sR0FBRyx3QkFBd0IsQ0FBQztRQUN4QyxNQUFNLENBQUM7WUFDTCxJQUFNLENBQUMsR0FBRyxJQUFJLG1CQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDakMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLG1DQUFtQyxDQUFDLENBQUM7SUFDbEQsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsK0RBQStELEVBQUU7UUFDbEUsSUFBTSxNQUFNLEdBQUcsMkJBQTJCLENBQUM7UUFFM0MsTUFBTSxDQUFDO1lBQ0wsSUFBTSxRQUFRLEdBQUcsSUFBSSxtQkFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3hDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyx1REFB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QU0sRUFBRSxJQUFJO2dCQUNaLElBQUksRUFBRSxJQUFJO2FBQ1gsQ0FBQyxDQUFDO1lBQ0gsTUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQywrRkFBK0YsQ0FBQyxDQUFDO1FBQ3BJLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLGlEQUFpRCxFQUFFO1lBQ3BELFFBQVEsQ0FBQyxTQUFTLENBQUM7Z0JBQ2pCLEtBQUssRUFBRSxDQUFDO2dCQUNSLElBQUksRUFBRSxJQUFJO2FBQ1gsQ0FBQyxDQUFDO1lBQ0gsTUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyw0RkFBNEYsQ0FBQyxDQUFDO1FBQ2pJLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsImZpbGUiOiJsaWIvZmlsZWxpbmsuc3BlYy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTkgYnkgRmlsZXN0YWNrLlxuICogU29tZSByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgRmlsZWxpbmssIFNoYXBlVHlwZSwgVmlkZW9BY2Nlc3NNb2RlLCBBbmltYXRpb25QYXJhbXMsIEZpdE9wdGlvbnMsIEFsaWduIH0gZnJvbSAnLi9maWxlbGluayc7XG5pbXBvcnQgeyBUcmFuc2Zvcm1TY2hlbWEgfSBmcm9tICcuLy4uL3NjaGVtYS90cmFuc2Zvcm1zLnNjaGVtYSc7XG5pbXBvcnQgKiBhcyB2YWxpZGF0b3IgZnJvbSAnLi4vc2NoZW1hJztcblxuZGVzY3JpYmUoJ2ZpbGVsaW5rJywgKCkgPT4ge1xuXG4gIGJlZm9yZUFsbCgoKSA9PiB7XG4gICAgc3B5T24odmFsaWRhdG9yLCAnZ2V0VmFsaWRhdG9yJykuYW5kLmNhbGxUaHJvdWdoKCk7XG4gIH0pO1xuXG4gIGNvbnN0IGRlZmF1bHRTb3VyY2UgPSAnNWFZa0VRSlNRQ21ZU2hzb0NuWk4nO1xuICBjb25zdCBkZWZhdWx0QXBpa2V5ID0gJ0RFRkFVTFRfQVBJX0tFWSc7XG5cbiAgaXQoJ3Nob3VsZCBwcm9wZXJseSBpbnN0YW50aWF0ZSBGaWxlbGluaycsICgpID0+IHtcbiAgICBjb25zdCBmaWxlbGluayA9IG5ldyBGaWxlbGluayhkZWZhdWx0U291cmNlKTtcbiAgICBleHBlY3QoZmlsZWxpbmspLnRvQmVEZWZpbmVkKCk7XG4gICAgZXhwZWN0KGZpbGVsaW5rKS50b0JlSW5zdGFuY2VPZihGaWxlbGluayk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgdGhyb3cgYW4gZXJyb3Igd2hlbiBoYW5kbGUgaXMgaW52YWxpZCcsICgpID0+IHtcbiAgICBjb25zdCBzb3VyY2UgPSAnKi81YVlrRVFKU1FDbVlTaHNvQ25aTic7XG4gICAgZXhwZWN0KCgpID0+IHtcbiAgICAgIGNvbnN0IGYgPSBuZXcgRmlsZWxpbmsoc291cmNlKTtcbiAgICB9KS50b1Rocm93KCdJbnZhbGlkIGZpbGVzdGFjayBzb3VyY2UgcHJvdmlkZWQnKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCB0aHJvdyBhbiBlcnJvciB3aGVuIGV4dGVybmFsIGhhbmRsZSBhbmQgd2l0aG91dCBhcGlrZXknLCAoKSA9PiB7XG4gICAgY29uc3Qgc291cmNlID0gJ3NyYzovL3Rlc3QxMjMvZXhhbXBsZS5qcGcnO1xuXG4gICAgZXhwZWN0KCgpID0+IHtcbiAgICAgIGNvbnN0IGZpbGVsaW5rID0gbmV3IEZpbGVsaW5rKHNvdXJjZSk7XG4gICAgfSkudG9UaHJvdygnRXh0ZXJuYWwgc291cmNlcyByZXF1aXJlcyBhcGlrZXkgdG8gaGFuZGxlIHRyYW5zZm9ybXMnKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIGNvbnZlcnQgZmlsZWxpbmsgdG8gc3RyaW5nJywgKCkgPT4ge1xuICAgIGNvbnN0IGZpbGVsaW5rID0gbmV3IEZpbGVsaW5rKGRlZmF1bHRTb3VyY2UpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGZpbGVsaW5rLnRvU3RyaW5nKCk7XG4gICAgZXhwZWN0KHJlc3VsdCkudG9CZSgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBhbGxvdyB0byBzZXQgdmFsaWRhdG9yIHN0YXR1cyB3aXRoIHRvU3RyaW5nIG1ldGhvZCcsICgpID0+IHtcbiAgICBjb25zdCBmaWxlbGluayA9IG5ldyBGaWxlbGluayhkZWZhdWx0U291cmNlKTtcbiAgICBmaWxlbGluay5zZXRVc2VWYWxpZGF0b3IoZmFsc2UpO1xuXG4gICAgZXhwZWN0KGZpbGVsaW5rLnJlc2l6ZSh7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICB0OiAxLFxuICAgIH0pLnRvU3RyaW5nKCkpLnRvRXF1YWwoJ2h0dHBzOi8vY2RuLmZpbGVzdGFja2NvbnRlbnQuY29tL3Jlc2l6ZT10OjEvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBhbGxvdyB0byBzZXQgdmFsaWRhdG9yIHN0YXR1cyB3aXRoIGdldFRyYW5zZm9ybWF0aW9ucyBtZXRob2QnLCAoKSA9PiB7XG4gICAgY29uc3QgZmlsZWxpbmsgPSBuZXcgRmlsZWxpbmsoZGVmYXVsdFNvdXJjZSk7XG4gICAgZmlsZWxpbmsuc2V0VXNlVmFsaWRhdG9yKGZhbHNlKTtcbiAgICBmaWxlbGluay5yZXNpemUoe1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgdDogMSxcbiAgICB9KTtcblxuICAgIGV4cGVjdChmaWxlbGluay5nZXRUcmFuc2Zvcm1hdGlvbnMoKSkudG9FcXVhbChbe1xuICAgICAgbmFtZTogJ3Jlc2l6ZScsXG4gICAgICBwYXJhbXM6IHsgdDogMSB9LFxuICAgIH1dKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBjcmVhdGUgZmlsZWxpbmsgd2l0aCBhcGlrZXkgd2hlbiBpcyBwcm92aWRlZCcsICgpID0+IHtcbiAgICBjb25zdCBmaWxlbGluayA9IG5ldyBGaWxlbGluayhkZWZhdWx0U291cmNlLCBkZWZhdWx0QXBpa2V5KTtcbiAgICBjb25zdCByZXN1bHQgPSBmaWxlbGluay50b1N0cmluZygpO1xuICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoJ2h0dHBzOi8vY2RuLmZpbGVzdGFja2NvbnRlbnQuY29tL0RFRkFVTFRfQVBJX0tFWS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gdXNlIG1hbnkgdGFza3MgYXQgb25jZSBhbmQgcmVzZXQgdGhlbScsICgpID0+IHtcbiAgICBjb25zdCBmaWxlbGluayA9IG5ldyBGaWxlbGluayhkZWZhdWx0U291cmNlKTtcbiAgICBjb25zdCByZXNpemVQYXJhbXMgPSB7XG4gICAgICB3aWR0aDogMjAwLFxuICAgIH07XG4gICAgY29uc3Qgcm90YXRlUGFyYW1zID0ge1xuICAgICAgZGVnOiA5MCxcbiAgICB9O1xuICAgIGZpbGVsaW5rXG4gICAgICAucmVzaXplKHJlc2l6ZVBhcmFtcylcbiAgICAgIC5yb3RhdGUocm90YXRlUGFyYW1zKVxuICAgICAgLmNyb3Aoe1xuICAgICAgICBkaW06IFsyMCwgMjAsIDI1MCwgMjUwXSxcbiAgICAgIH0pO1xuICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2Nkbi5maWxlc3RhY2tjb250ZW50LmNvbS9yZXNpemU9d2lkdGg6MjAwL3JvdGF0ZT1kZWc6OTAvY3JvcD1kaW06WzIwLDIwLDI1MCwyNTBdLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgZmlsZWxpbmsucmVzZXQoKTtcbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIGdldCB0cmFuc2Zvcm1hdGlvbnMnLCAoKSA9PiB7XG4gICAgY29uc3QgZmlsZWxpbmsgPSBuZXcgRmlsZWxpbmsoZGVmYXVsdFNvdXJjZSk7XG4gICAgY29uc3QgcmVzaXplUGFyYW1zID0ge1xuICAgICAgd2lkdGg6IDIwMCxcbiAgICB9O1xuICAgIGNvbnN0IHJvdGF0ZVBhcmFtcyA9IHtcbiAgICAgIGRlZzogOTAsXG4gICAgfTtcbiAgICBmaWxlbGlua1xuICAgICAgLnJlc2l6ZShyZXNpemVQYXJhbXMpXG4gICAgICAucm90YXRlKHJvdGF0ZVBhcmFtcylcbiAgICAgIC5jcm9wKHtcbiAgICAgICAgZGltOiBbMjAsIDIwLCAyNTAsIDI1MF0sXG4gICAgICB9KTtcbiAgICBjb25zdCBleHBlY3RlZCA9IFt7IG5hbWU6ICdyZXNpemUnLCBwYXJhbXM6IHsgd2lkdGg6IDIwMCB9IH0sIHsgbmFtZTogJ3JvdGF0ZScsIHBhcmFtczogeyBkZWc6IDkwIH0gfSwgeyBuYW1lOiAnY3JvcCcsIHBhcmFtczogeyBkaW06IFsyMCwgMjAsIDI1MCwgMjUwXSB9IH1dO1xuICAgIGV4cGVjdChmaWxlbGluay5nZXRUcmFuc2Zvcm1hdGlvbnMoKSkudG9FcXVhbChleHBlY3RlZCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYmUgYWJsZSB0byBnZXRWYWxpZGF0aW9uU2NoZW1hJywgKCkgPT4ge1xuICAgIGNvbnN0IGZpbGVsaW5rID0gbmV3IEZpbGVsaW5rKGRlZmF1bHRTb3VyY2UpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGZpbGVsaW5rLmdldFZhbGlkYXRpb25TY2hlbWEoKTtcbiAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKFRyYW5zZm9ybVNjaGVtYSk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgbm90IHJlcXVpcmUgYXBpa2F5IG9uIGZpbGVzdGFjayBleHRlcm5hbCB1cmwnLCAoKSA9PiB7XG4gICAgY29uc3QgZmlsZWxpbmsgPSBuZXcgRmlsZWxpbmsoJ2h0dHBzOi8vY2RuLmZpbGVzdGFja2NvbnRlbnQuY29tLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgZmlsZWxpbmsuc2hhZG93KGZhbHNlKS51cHNjYWxlKCk7XG4gICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY2RuLmZpbGVzdGFja2NvbnRlbnQuY29tL3Vwc2NhbGUvXFxcImh0dHBzOi8vY2RuLmZpbGVzdGFja2NvbnRlbnQuY29tLzVhWWtFUUpTUUNtWVNoc29DblpOXFxcIicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gZGlzYWJsZSBzZWxlY3RlZCB0YXNrJywgKCkgPT4ge1xuICAgIGNvbnN0IGZpbGVsaW5rID0gbmV3IEZpbGVsaW5rKGRlZmF1bHRTb3VyY2UpO1xuICAgIGZpbGVsaW5rLnNoYWRvdyhmYWxzZSkudXBzY2FsZSgpO1xuICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2Nkbi5maWxlc3RhY2tjb250ZW50LmNvbS91cHNjYWxlLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYmUgYWJsZSB0byBjcmVhdGUgZmlsZWxpbmsgZm9yIG1hbnkgaGFuZGxlcycsICgpID0+IHtcbiAgICBjb25zdCBzb3VyY2VBcnIgPSBbJzVhWWtFUUpTUUNtWVNoc29DblpOJywgJzRhWWtFUUpTUUNtWVNoc29DblpOJ107XG4gICAgY29uc3QgZmlsZWxpbmsgPSBuZXcgRmlsZWxpbmsoc291cmNlQXJyKTtcbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9FcXVhbCgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vWzVhWWtFUUpTUUNtWVNoc29DblpOLDRhWWtFUUpTUUNtWVNoc29DblpOXScpO1xuICAgIGZpbGVsaW5rLnNldEJhc2U2NCh0cnVlKTtcbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vYjY0Oi8vV3pWaFdXdEZVVXBUVVVOdFdWTm9jMjlEYmxwT0xEUmhXV3RGVVVwVFVVTnRXVk5vYzI5RGJscE9YUT09Jyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYmUgYWJsZSB0byBjcmVhdGUgZmlsZWxpbmsgZm9yIG1hbnkgc3JjIGhhbmRsZXMnLCAoKSA9PiB7XG4gICAgY29uc3Qgc291cmNlQXJyID0gWydzcmM6Ly90ZXN0MTIzL2V4YW1wbGUuanBnJywgJ3NyYzovL3Rlc3QxMjMvZmx1Z185LXRyYW5zX2F0bGFudGlrLTQwMGRwaS5qcGcnXTtcbiAgICBjb25zdCBmaWxlbGluayA9IG5ldyBGaWxlbGluayhzb3VyY2VBcnIsIGRlZmF1bHRBcGlrZXkpO1xuICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0VxdWFsKCdodHRwczovL2Nkbi5maWxlc3RhY2tjb250ZW50LmNvbS9ERUZBVUxUX0FQSV9LRVkvW1wic3JjOi8vdGVzdDEyMy9leGFtcGxlLmpwZ1wiLFwic3JjOi8vdGVzdDEyMy9mbHVnXzktdHJhbnNfYXRsYW50aWstNDAwZHBpLmpwZ1wiXScpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHRocm93IGFuIGVycm9yIGlmIHRhc2sgcGFyYW1zIGFyZSBub3QgdmFsaWQnLCAoKSA9PiB7XG4gICAgY29uc3QgZmlsZWxpbmsgPSBuZXcgRmlsZWxpbmsoZGVmYXVsdFNvdXJjZSk7XG4gICAgZXhwZWN0KCgpID0+IHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGZpbGVsaW5rLnJlc2l6ZSh7IHI6IDIgfSkudG9TdHJpbmcoKTtcbiAgICB9KS50b1Rocm93KCdQYXJhbXMgdmFsaWRhdGlvbiBlcnJvcicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIG9taXQgdHJhbnNmb3JtYXRpb25zIHdpdGggZW1wdHkgb3B0aW9ucycsICgpID0+IHtcbiAgICBjb25zdCBmaWxlbGluayA9IG5ldyBGaWxlbGluayhkZWZhdWx0U291cmNlKTtcbiAgICBmaWxlbGluay51cHNjYWxlKGZhbHNlKTtcbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCB0aHJvdyBhbiBlcnJvciBpZiBzb3VyY2UgZG9lcyBub3QgZXhpc3RzJywgKCkgPT4ge1xuICAgIGV4cGVjdCgoKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IEZpbGVsaW5rKCcnKTtcbiAgICB9KS50b1Rocm93KCdTb3VyY2Ugbm90IFNldCcpO1xuICB9KTtcblxuICBkZXNjcmliZSgnRGlmZmVyZW50IHRhc2tzJywgKCkgPT4ge1xuICAgIGxldCBmaWxlbGluayA9IG5ldyBGaWxlbGluayhkZWZhdWx0U291cmNlLCBkZWZhdWx0QXBpa2V5KTtcbiAgICBhZnRlckVhY2goKCkgPT4ge1xuICAgICAgZmlsZWxpbmsgPSBuZXcgRmlsZWxpbmsoZGVmYXVsdFNvdXJjZSwgZGVmYXVsdEFwaWtleSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gY3JlYXRlIGZpbGVsaW5rIHdoZW4gaGFuZGxlIGlzIGJhc2U2NCcsICgpID0+IHtcbiAgICAgIGZpbGVsaW5rLnVwc2NhbGUoKTtcbiAgICAgIGZpbGVsaW5rLnNldEJhc2U2NCh0cnVlKTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2Nkbi5maWxlc3RhY2tjb250ZW50LmNvbS9ERUZBVUxUX0FQSV9LRVkvYjY0L1czc2libUZ0WlNJNkluVndjMk5oYkdVaWZWMD0vYjY0Oi8vTldGWmEwVlJTbE5SUTIxWlUyaHpiME51V2s0PScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIHVzZSBjdXN0b20gY25hbWUnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjbmFtZSA9ICduZXdjbmFtZS5jb20nO1xuICAgICAgZmlsZWxpbmsuc2V0Q25hbWUoY25hbWUpO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY2RuLm5ld2NuYW1lLmNvbS9ERUZBVUxUX0FQSV9LRVkvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byB1c2UgY3VzdG9tIGRvbWFpbicsICgpID0+IHtcbiAgICAgIGNvbnN0IGN1c3RvbURvbWFpbiA9ICdodHRwczovL2N1c3RvbURvbWFpbi5jb20nO1xuICAgICAgZmlsZWxpbmsuc2V0Q3VzdG9tRG9tYWluKGN1c3RvbURvbWFpbik7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIGF1dG9JbWFnZSB0cmFuc2Zvcm1hdGlvbicsICgpID0+IHtcbiAgICAgIGZpbGVsaW5rLmF1dG9JbWFnZSgpO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvYXV0b19pbWFnZS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIGFkZCBmbGlwJywgKCkgPT4ge1xuICAgICAgZmlsZWxpbmsuZmxpcCgpO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvZmxpcC81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIGFkZCBmbG9wJywgKCkgPT4ge1xuICAgICAgZmlsZWxpbmsuZmxvcCgpO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvZmxvcC81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIGVuaGFuY2UnLCAoKSA9PiB7XG4gICAgICBmaWxlbGluay5lbmhhbmNlKCk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS9lbmhhbmNlLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gcmVkZXllJywgKCkgPT4ge1xuICAgICAgZmlsZWxpbmsucmVkZXllKCk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS9yZWRleWUvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBtb25vY2hyb21lJywgKCkgPT4ge1xuICAgICAgZmlsZWxpbmsubW9ub2Nocm9tZSgpO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvbW9ub2Nocm9tZS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIG5lZ2F0aXZlJywgKCkgPT4ge1xuICAgICAgZmlsZWxpbmsubmVnYXRpdmUoKTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL25lZ2F0aXZlLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gdGFncycsICgpID0+IHtcbiAgICAgIGZpbGVsaW5rLnRhZ3MoKTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL3RhZ3MvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBzZncnLCAoKSA9PiB7XG4gICAgICBmaWxlbGluay5zZncoKTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL3Nmdy81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIHN0b3JlJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc3RvcmVQYXJhbXMgPSB7fTtcbiAgICAgIGZpbGVsaW5rLnN0b3JlKHN0b3JlUGFyYW1zKTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL3N0b3JlLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gZGlzYWJsZSBjYWNoZScsICgpID0+IHtcbiAgICAgIGZpbGVsaW5rLmNhY2hlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL2NhY2hlPWZhbHNlLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gc2V0IGNhY2hlIHBhcmFtcycsICgpID0+IHtcbiAgICAgIGNvbnN0IGNhY2hlUGFyYW1zID0ge1xuICAgICAgICBleHBpcnk6IDY2NixcbiAgICAgIH07XG4gICAgICBmaWxlbGluay5jYWNoZShjYWNoZVBhcmFtcyk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS9jYWNoZT1leHBpcnk6NjY2LzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgYWRkIGFuaW1hdGlvbiB0cmFuc2Zvcm0nLCAoKSA9PiB7XG4gICAgICBjb25zdCBwYXJhbXM6IEFuaW1hdGlvblBhcmFtcyA9IHtcbiAgICAgICAgbG9vcDogMSxcbiAgICAgICAgZGVsYXk6IDEwLFxuICAgICAgICB3aWR0aDogMTAsXG4gICAgICAgIGhlaWdodDogMTAsXG4gICAgICAgIGZpdDogRml0T3B0aW9ucy5zY2FsZSxcbiAgICAgICAgYmFja2dyb3VuZDogJ3RyYW5zcGFyZW50JyxcbiAgICAgICAgYWxpZ246IFtBbGlnbi50b3AsIEFsaWduLmNlbnRlcl0sXG4gICAgICB9O1xuXG4gICAgICBmaWxlbGluay5hbmltYXRlKHBhcmFtcyk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS9hbmltYXRlPWxvb3A6MSxkZWxheToxMCx3aWR0aDoxMCxoZWlnaHQ6MTAsZml0OnNjYWxlLGJhY2tncm91bmQ6dHJhbnNwYXJlbnQsYWxpZ246W3RvcCxjZW50ZXJdLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gcmVzaXplJywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzaXplUGFyYW1zID0ge1xuICAgICAgICB3aWR0aDogMjAwLFxuICAgICAgfTtcbiAgICAgIGZpbGVsaW5rLnJlc2l6ZShyZXNpemVQYXJhbXMpO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvcmVzaXplPXdpZHRoOjIwMC81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIGNyb3AnLCAoKSA9PiB7XG4gICAgICBmaWxlbGluay5jcm9wKHtcbiAgICAgICAgZGltOiBbMjAsIDIwLCAyNTAsIDI1MF0sXG4gICAgICB9KTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL2Nyb3A9ZGltOlsyMCwyMCwyNTAsMjUwXS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIHJvdGF0ZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHJvdGF0ZVBhcmFtcyA9IHtcbiAgICAgICAgZGVnOiA5MCxcbiAgICAgIH07XG4gICAgICBmaWxlbGluay5yb3RhdGUocm90YXRlUGFyYW1zKTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL3JvdGF0ZT1kZWc6OTAvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBkZXRlY3QgZmFjZXMnLCAoKSA9PiB7XG4gICAgICBmaWxlbGluay5kZXRlY3RGYWNlcyh7fSk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS9kZXRlY3RfZmFjZXMvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBjcm9wIGZhY2VzJywgKCkgPT4ge1xuICAgICAgZmlsZWxpbmsuY3JvcEZhY2VzKHt9KTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL2Nyb3BfZmFjZXMvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBwaXhlbGF0ZSBmYWNlcycsICgpID0+IHtcbiAgICAgIGZpbGVsaW5rLnBpeGVsYXRlRmFjZXMoe30pO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvcGl4ZWxhdGVfZmFjZXMvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBibHVyIGZhY2VzJywgKCkgPT4ge1xuICAgICAgY29uc3QgYmx1ckZhY2VzUGFyYW1zID0ge1xuICAgICAgICBhbW91bnQ6IDMsXG4gICAgICAgIGJsdXI6IDUsXG4gICAgICAgIHR5cGU6IFNoYXBlVHlwZS5vdmFsLFxuICAgICAgfTtcbiAgICAgIGZpbGVsaW5rLmJsdXJGYWNlcyhibHVyRmFjZXNQYXJhbXMpO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvYmx1cl9mYWNlcz1hbW91bnQ6MyxibHVyOjUsdHlwZTpvdmFsLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gcm91bmQgY29ybmVybnMnLCAoKSA9PiB7XG4gICAgICBjb25zdCByb3VuZGVkQ29ybmVyc1BhcmFtcyA9IHtcbiAgICAgICAgcmFkaXVzOiA1MCxcbiAgICAgICAgYmx1cjogNSxcbiAgICAgIH07XG4gICAgICBmaWxlbGluay5yb3VuZGVkQ29ybmVycyhyb3VuZGVkQ29ybmVyc1BhcmFtcyk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS9yb3VuZGVkX2Nvcm5lcnM9cmFkaXVzOjUwLGJsdXI6NS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIHBvbGFyb2lkJywgKCkgPT4ge1xuICAgICAgY29uc3QgcG9sYXJvaWRQYXJhbXMgPSB7XG4gICAgICAgIGNvbG9yOiAnZmYwMDAwJyxcbiAgICAgICAgcm90YXRlOiA1MCxcbiAgICAgIH07XG4gICAgICBmaWxlbGluay5wb2xhcm9pZChwb2xhcm9pZFBhcmFtcyk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS9wb2xhcm9pZD1jb2xvcjpmZjAwMDAscm90YXRlOjUwLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gdmlnbmV0dGUnLCAoKSA9PiB7XG4gICAgICBjb25zdCB2aWduZXR0ZVBhcmFtcyA9IHtcbiAgICAgICAgYmFja2dyb3VuZDogJ2ZmMDAwMCcsXG4gICAgICAgIGFtb3VudDogNSxcbiAgICAgIH07XG4gICAgICBmaWxlbGluay52aWduZXR0ZSh2aWduZXR0ZVBhcmFtcyk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS92aWduZXR0ZT1iYWNrZ3JvdW5kOmZmMDAwMCxhbW91bnQ6NS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIHRvcm5FZGdlcycsICgpID0+IHtcbiAgICAgIGZpbGVsaW5rLnRvcm5FZGdlcyh7fSk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS90b3JuX2VkZ2VzLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gc2hhZG93JywgKCkgPT4ge1xuICAgICAgZmlsZWxpbmsuc2hhZG93KCk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS9zaGFkb3cvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBjaXJjbGUnLCAoKSA9PiB7XG4gICAgICBmaWxlbGluay5jaXJjbGUoe30pO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvY2lyY2xlLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gYm9yZGVyJywgKCkgPT4ge1xuICAgICAgZmlsZWxpbmsuYm9yZGVyKCk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS9ib3JkZXIvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byB2aWduZXR0ZScsICgpID0+IHtcbiAgICAgIGZpbGVsaW5rLnZpZ25ldHRlKHt9KTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL3ZpZ25ldHRlLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gc2hhcnBlbicsICgpID0+IHtcbiAgICAgIGNvbnN0IHNoYXJwZW5QYXJhbXMgPSB7XG4gICAgICAgIGFtb3VudDogNSxcbiAgICAgIH07XG4gICAgICBmaWxlbGluay5zaGFycGVuKHNoYXJwZW5QYXJhbXMpO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvc2hhcnBlbj1hbW91bnQ6NS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIGJsdXInLCAoKSA9PiB7XG4gICAgICBjb25zdCBibHVyUGFyYW1zID0ge1xuICAgICAgICBhbW91bnQ6IDUsXG4gICAgICB9O1xuICAgICAgZmlsZWxpbmsuYmx1cihibHVyUGFyYW1zKTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL2JsdXI9YW1vdW50OjUvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBibGFja3doaXRlJywgKCkgPT4ge1xuICAgICAgY29uc3QgYmxhY2t3aGl0ZVBhcmFtcyA9IHtcbiAgICAgICAgdGhyZXNob2xkOiA1MCxcbiAgICAgIH07XG4gICAgICBmaWxlbGluay5ibGFja3doaXRlKGJsYWNrd2hpdGVQYXJhbXMpO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvYmxhY2t3aGl0ZT10aHJlc2hvbGQ6NTAvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBzZXBpYScsICgpID0+IHtcbiAgICAgIGZpbGVsaW5rLnNlcGlhKCk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS9zZXBpYS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIHBpeGVsYXRlJywgKCkgPT4ge1xuICAgICAgZmlsZWxpbmsucGl4ZWxhdGUoKTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL3BpeGVsYXRlLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gb2lsUGFpbnQnLCAoKSA9PiB7XG4gICAgICBmaWxlbGluay5vaWxQYWludCgpO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvb2lsX3BhaW50LzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gbW9kdWxhdGUnLCAoKSA9PiB7XG4gICAgICBmaWxlbGluay5tb2R1bGF0ZSgpO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvbW9kdWxhdGUvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBwYXJ0aWFsUGl4ZWxhdGUnLCAoKSA9PiB7XG4gICAgICBmaWxlbGluay5wYXJ0aWFsUGl4ZWxhdGUoe1xuICAgICAgICBvYmplY3RzOiBbWzIwLCAyMCwgNTAsIDUwXV0sXG4gICAgICB9KTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL3BhcnRpYWxfcGl4ZWxhdGU9b2JqZWN0czpbWzIwLDIwLDUwLDUwXV0vNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBwYXJ0aWFsQmx1cicsICgpID0+IHtcbiAgICAgIGZpbGVsaW5rLnBhcnRpYWxCbHVyKHtcbiAgICAgICAgYW1vdW50OiA1LFxuICAgICAgICBvYmplY3RzOiBbWzIwLCAyMCwgNTAsIDUwXV0sXG4gICAgICB9KTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL3BhcnRpYWxfYmx1cj1hbW91bnQ6NSxvYmplY3RzOltbMjAsMjAsNTAsNTBdXS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIGNvbGxhZ2UnLCAoKSA9PiB7XG4gICAgICBmaWxlbGluay5jb2xsYWdlKHtcbiAgICAgICAgZmlsZXM6IFsnaHR0cDovL3dlbGNvbWUtc3dpc3MuY29tL3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDE1LzEyL1N3aXNzLWxhbmRzY2FwZS5qcGcnXSxcbiAgICAgICAgd2lkdGg6IDIwMCxcbiAgICAgICAgaGVpZ2h0OiAyMDAsXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoXG4gICAgICAgICdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL2NvbGxhZ2U9ZmlsZXM6W1wiaHR0cDovL3dlbGNvbWUtc3dpc3MuY29tL3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDE1LzEyL1N3aXNzLWxhbmRzY2FwZS5qcGdcIl0sd2lkdGg6MjAwLGhlaWdodDoyMDAvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIHVwc2NhbGUnLCAoKSA9PiB7XG4gICAgICBmaWxlbGluay51cHNjYWxlKCk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS91cHNjYWxlLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gYXNjaWknLCAoKSA9PiB7XG4gICAgICBmaWxlbGluay5hc2NpaSgpO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvYXNjaWkvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBxdWFsaXR5JywgKCkgPT4ge1xuICAgICAgY29uc3QgcXVhbGl0eVBhcmFtcyA9IHtcbiAgICAgICAgdmFsdWU6IDUsXG4gICAgICB9O1xuICAgICAgZmlsZWxpbmsucXVhbGl0eShxdWFsaXR5UGFyYW1zKTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL3F1YWxpdHk9dmFsdWU6NS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIHVzZSBzZWN1cml0eScsICgpID0+IHtcbiAgICAgIGNvbnN0IHNlY3VyaXR5UGFyYW1zID0ge1xuICAgICAgICBwb2xpY3k6ICdleGFtcGxlUG9saWN5JyxcbiAgICAgICAgc2lnbmF0dXJlOiAnZXhhbXBsZVNpZ25hdHVyZScsXG4gICAgICB9O1xuICAgICAgZmlsZWxpbmsuc2VjdXJpdHkoc2VjdXJpdHlQYXJhbXMpO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvc2VjdXJpdHk9cG9saWN5OmV4YW1wbGVQb2xpY3ksc2lnbmF0dXJlOmV4YW1wbGVTaWduYXR1cmUvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSBvdXRwdXQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBvdXRwdXRQYXJhbXMgPSB7XG4gICAgICAgIGZvcm1hdDogJ3BuZycsXG4gICAgICB9O1xuICAgICAgZmlsZWxpbmsub3V0cHV0KG91dHB1dFBhcmFtcyk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS9vdXRwdXQ9Zm9ybWF0OnBuZy81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIHZpZGVvQ29udmVydCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHZpZGVvQ29udmVydFBhcmFtcyA9IHtcbiAgICAgICAgYXNwZWN0X21vZGU6IFZpZGVvQWNjZXNzTW9kZS5sZXR0ZXJib3gsXG4gICAgICAgIHVwc2NhbGU6IHRydWUsXG4gICAgICB9O1xuICAgICAgZmlsZWxpbmsudmlkZW9Db252ZXJ0KHZpZGVvQ29udmVydFBhcmFtcyk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS92aWRlb19jb252ZXJ0PWFzcGVjdF9tb2RlOmxldHRlcmJveCx1cHNjYWxlOnRydWUvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBVUkxTY3JlZW5zaG90JywgKCkgPT4ge1xuICAgICAgZmlsZWxpbmsuVVJMU2NyZWVuc2hvdCgpO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvdXJsc2NyZWVuc2hvdC81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIFBERkluZm8nLCAoKSA9PiB7XG4gICAgICBmaWxlbGluay5QREZJbmZvKCk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS9wZGZpbmZvLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gUERGQ29udmVydCcsICgpID0+IHtcbiAgICAgIGZpbGVsaW5rLlBERkNvbnZlcnQoKTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL3BkZmNvbnZlcnQvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBmb3JjZSBjYWNoZScsICgpID0+IHtcbiAgICAgIGZpbGVsaW5rLmNhY2hlKHRydWUpO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvY2FjaGUvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBhZGQgZmFsbGJhY2sgdHJhbnNmb3JtYXRpb24nLCAoKSA9PiB7XG4gICAgICBmaWxlbGluay5mYWxsYmFjayh7XG4gICAgICAgIGhhbmRsZTogJ2h0dHA6dGVzdC5jb20nLFxuICAgICAgfSk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS9mYWxsYmFjaz1oYW5kbGU6aHR0cDp0ZXN0LmNvbS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIGFkZCB6aXAgdHJuYXNmb3JtYXRpb24nLCAoKSA9PiB7XG4gICAgICBmaWxlbGluay56aXAoKTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL3ppcC81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIGFkZCBtaW5pZnkganMgdHJhbnNmb3JtYXRpb24nLCAoKSA9PiB7XG4gICAgICBmaWxlbGluay5taW5pZnlKcyh7XG4gICAgICAgIG1hbmdsZTogdHJ1ZSxcbiAgICAgICAgZ3ppcDogdHJ1ZSxcbiAgICAgIH0pO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvbWluaWZ5X2pzPW1hbmdsZTp0cnVlLGd6aXA6dHJ1ZS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIGFkZCBtaW5pZnkgY3NzIHRyYW5zZm9ybWF0aW9uJywgKCkgPT4ge1xuICAgICAgZmlsZWxpbmsubWluaWZ5Q3NzKHtcbiAgICAgICAgbGV2ZWw6IDEsXG4gICAgICAgIGd6aXA6IHRydWUsXG4gICAgICB9KTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL21pbmlmeV9jc3M9bGV2ZWw6MSxnemlwOnRydWUvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdfQ==
