"use strict";
/*
 * Copyright (c) 2019 by Filestack.
 * Some rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var config_1 = require("./../../config");
var cloud_1 = require("./cloud");
var utils = require("./../utils");
var nock = require("nock");
var testApiKey = 'API_KEY';
var testTokSession = 'TOK_SESSION';
var testTokArchiveId = 'ARCHIVE_ID';
var testCloudToken = 'testCloudToken';
var testSecurity = {
    policy: 'examplePolicy',
    signature: 'exampleSignature',
};
var sessionURls = config_1.config.urls;
var testSession = {
    apikey: testApiKey,
    urls: sessionURls,
};
var scope = nock(sessionURls.cloudApiUrl);
scope.defaultReplyHeaders({
    'access-control-allow-origin': function (req) { return req.headers['origin']; },
    'access-control-allow-methods': function (req) { return req.headers['access-control-request-method']; },
    'access-control-allow-headers': function (req) { return req.headers['access-control-request-headers']; },
    'content-type': 'application/json',
});
var mockTokInit = jest
    .fn()
    .mockName('tokInit')
    .mockReturnValue('init');
var mockTokStart = jest
    .fn()
    .mockName('tokStart')
    .mockReturnValue('start');
var mockTokStop = jest
    .fn()
    .mockName('tokStop')
    .mockReturnValue('stop');
var mockMetadata = jest
    .fn()
    .mockName('metadata')
    .mockReturnValue('metadata');
var mockPrefetch = jest
    .fn()
    .mockName('prefetch')
    .mockReturnValue('prefetch');
var mockList = jest
    .fn()
    .mockName('list')
    .mockImplementation(function (data) {
    if (data && data.clouds.token) {
        return { token: testCloudToken };
    }
    return data;
});
var mockLogout = jest
    .fn()
    .mockName('logout')
    .mockImplementation(function (url, params) {
    if (params.clouds && params.clouds.token) {
        return { token: testCloudToken };
    }
    return params;
});
var mockStore = jest
    .fn()
    .mockName('store')
    .mockImplementation(function (params) {
    if (params && params.clouds && params.clouds.token) {
        return JSON.stringify({ token: testCloudToken });
    }
    return JSON.stringify(params);
});
describe('cloud', function () {
    beforeEach(function () {
        scope
            .persist()
            .options(/.*/)
            .reply(204, '', {
            'access-control-allow-headers': 'filestack-source,filestack-trace-id,filestack-trace-span',
            'access-control-allow-methods': '*',
            'access-control-allow-origin': '*',
        });
        scope.post('/auth/logout').reply(200, mockLogout);
        scope.post('/folder/list').reply(200, function (_, data) { return mockList(data); });
        scope.post('/store/').reply(200, function (_, data) { return mockStore(data); });
        scope.post('/metadata').reply(200, mockMetadata);
        scope.post(/\/recording\/(audio|video)\/init/).reply(200, mockTokInit);
        scope.post(/\/recording\/(audio|video)\/start/).reply(200, mockTokStart);
        scope.post(/\/recording\/(audio|video)\/stop/).reply(200, mockTokStop);
    });
    afterEach(function () {
        nock.cleanAll();
        jest.clearAllMocks();
        localStorage.clear();
    });
    describe('cancelToken', function () {
        var testDomain = 'http://delay.filestack.test';
        var scopeD;
        beforeEach(function () {
            scopeD = nock(testDomain);
            scopeD.post('/store/').delay(4000).reply(200);
            scopeD.post('/folder/list').delay(4000).reply(200);
        });
        afterEach(function () {
            nock.cleanAll();
            jest.clearAllMocks();
            localStorage.clear();
        });
        it('Should cancel store request', function (done) {
            var sessionClone = JSON.parse(JSON.stringify(testSession));
            sessionClone.urls.cloudApiUrl = testDomain;
            var token = {};
            new cloud_1.CloudClient(sessionClone).store('google', 'test', { filename: '1', location: 'gcs' }, {}, token).then(function () {
                done('Request not canceled');
            }).catch(function (err) {
                expect(err).toEqual(expect.any(Error));
                done();
            });
            setTimeout(function () {
                // @ts-ignore
                token.cancel();
            }, 500);
        });
        it('Should cancel list request', function (done) {
            var sessionClone = JSON.parse(JSON.stringify(testSession));
            sessionClone.urls.cloudApiUrl = testDomain;
            var token = {};
            new cloud_1.CloudClient(sessionClone).list('google', token).then(function () {
                done('Request not canceled');
            }).catch(function (err) {
                expect(err).toEqual(expect.any(Error));
                done();
            });
            setTimeout(function () {
                // @ts-ignore
                token.cancel();
            }, 500);
        });
    });
    describe('facebook inapp browser', function () {
        beforeEach(function () {
            scope
                .get('/prefetch')
                .query({ apikey: testApiKey })
                .reply(200, {
                inapp_browser: true,
            });
        });
        it('should set token to sessionStore when inapp browser is detected', function () { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
            var client, token;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        spyOn(utils, 'isFacebook').and.returnValue(true);
                        client = new cloud_1.CloudClient(testSession);
                        return [4 /*yield*/, client.prefetch()];
                    case 1:
                        _a.sent();
                        token = 'test';
                        client.token = token;
                        expect(sessionStorage.getItem(cloud_1.PICKER_KEY)).toEqual(token);
                        sessionStorage.setItem(cloud_1.PICKER_KEY, undefined);
                        return [2 /*return*/];
                }
            });
        }); });
        it('should get token from sessionStore when inapp browser is detected', function () { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
            var client, token;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        spyOn(utils, 'isFacebook').and.returnValue(true);
                        client = new cloud_1.CloudClient(testSession);
                        return [4 /*yield*/, client.prefetch()];
                    case 1:
                        _a.sent();
                        token = 'test';
                        sessionStorage.setItem(cloud_1.PICKER_KEY, token);
                        expect(client.token).toEqual(token);
                        sessionStorage.setItem(cloud_1.PICKER_KEY, undefined);
                        return [2 /*return*/];
                }
            });
        }); });
        it('should send appurl in list action', function () { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
            var clouds, client, res;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        clouds = { test: true };
                        client = new cloud_1.CloudClient(testSession);
                        return [4 /*yield*/, client.prefetch()];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, client.list(tslib_1.__assign({}, clouds))];
                    case 2:
                        res = _a.sent();
                        expect(res).toEqual({
                            apikey: testApiKey,
                            flow: 'web',
                            appurl: 'http://localhost/?fs-tab=init',
                            clouds: clouds,
                            token: null,
                        });
                        return [2 /*return*/];
                }
            });
        }); });
        it('should not send app url if urlsearch params is undefined', function () { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
            var clouds, before, client, res;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        clouds = { test: true };
                        before = window.URLSearchParams;
                        window.URLSearchParams = undefined;
                        client = new cloud_1.CloudClient(testSession);
                        return [4 /*yield*/, client.prefetch()];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, client.list(tslib_1.__assign({}, clouds))];
                    case 2:
                        res = _a.sent();
                        expect(res).toEqual({
                            apikey: testApiKey,
                            flow: 'web',
                            clouds: clouds,
                            token: null,
                        });
                        window.URLSearchParams = before;
                        return [2 /*return*/];
                }
            });
        }); });
    });
    describe('prefetch', function () {
        beforeEach(function () {
            scope
                .get('/prefetch')
                .query({ apikey: testApiKey })
                .reply(200, mockPrefetch);
        });
        it('should make correct request to api', function () { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
            var res;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, new cloud_1.CloudClient(testSession).prefetch()];
                    case 1:
                        res = _a.sent();
                        expect(mockPrefetch).toHaveBeenCalledWith(expect.any(String), '');
                        expect(res).toEqual('prefetch');
                        return [2 /*return*/];
                }
            });
        }); });
    });
    describe('list', function () {
        it('should make correct list request', function () { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
            var clouds, res;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        clouds = { test: true };
                        return [4 /*yield*/, new cloud_1.CloudClient(testSession).list(tslib_1.__assign({}, clouds))];
                    case 1:
                        res = _a.sent();
                        expect(res).toEqual({
                            apikey: testApiKey,
                            flow: 'web',
                            clouds: clouds,
                        });
                        return [2 /*return*/];
                }
            });
        }); });
        it('should make correct list request with session cache', function () { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
            var clouds, res;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        clouds = { test: true };
                        localStorage.setItem(cloud_1.PICKER_KEY, testCloudToken);
                        return [4 /*yield*/, new cloud_1.CloudClient(testSession, {
                                sessionCache: true,
                            }).list(tslib_1.__assign({}, clouds))];
                    case 1:
                        res = _a.sent();
                        expect(res).toEqual({
                            apikey: testApiKey,
                            flow: 'web',
                            token: testCloudToken,
                            clouds: clouds,
                        });
                        return [2 /*return*/];
                }
            });
        }); });
        it('should set token on api token response', function () { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
            var clouds, res;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        clouds = { token: true };
                        return [4 /*yield*/, new cloud_1.CloudClient(testSession).list(tslib_1.__assign({}, clouds))];
                    case 1:
                        res = _a.sent();
                        expect(res).toEqual({ token: testCloudToken });
                        return [2 /*return*/];
                }
            });
        }); });
        it('should cache session token to local storage', function () { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
            var clouds, res;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        clouds = { token: true };
                        return [4 /*yield*/, new cloud_1.CloudClient(testSession, { sessionCache: true }).list(tslib_1.__assign({}, clouds))];
                    case 1:
                        res = _a.sent();
                        expect(localStorage.setItem).toHaveBeenCalledWith(cloud_1.PICKER_KEY, testCloudToken);
                        expect(res).toEqual({ token: testCloudToken });
                        return [2 /*return*/];
                }
            });
        }); });
        it('should make correct list request with security', function () { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
            var clouds, res;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        clouds = { test: true };
                        return [4 /*yield*/, new cloud_1.CloudClient(tslib_1.__assign(tslib_1.__assign({}, testSession), testSecurity)).list(tslib_1.__assign({}, clouds))];
                    case 1:
                        res = _a.sent();
                        expect(res).toEqual(tslib_1.__assign({ apikey: testApiKey, flow: 'web', clouds: clouds }, testSecurity));
                        return [2 /*return*/];
                }
            });
        }); });
    });
    describe('store', function () {
        it('should make correct basic request', function () { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
            var res;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, new cloud_1.CloudClient(testSession).store('google', 'test', { filename: '1' })];
                    case 1:
                        res = _a.sent();
                        expect(res).toEqual({
                            apikey: testApiKey,
                            flow: 'web',
                            clouds: {
                                google: {
                                    path: 'test',
                                    store: {
                                        filename: '1',
                                        location: 's3',
                                    },
                                },
                            },
                        });
                        return [2 /*return*/];
                }
            });
        }); });
        it('should respect store location param', function () { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
            var res;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, new cloud_1.CloudClient(testSession).store('google', 'test', { filename: '1', location: 'gcs' })];
                    case 1:
                        res = _a.sent();
                        expect(res).toEqual({
                            apikey: testApiKey,
                            flow: 'web',
                            clouds: {
                                google: {
                                    path: 'test',
                                    store: {
                                        filename: '1',
                                        location: 'gcs',
                                    },
                                },
                            },
                        });
                        return [2 /*return*/];
                }
            });
        }); });
        it('should make correct basic with security', function () { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
            var res, excepted;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, new cloud_1.CloudClient(tslib_1.__assign(tslib_1.__assign({}, testSession), testSecurity)).store('token', 'test', { filename: '1' })];
                    case 1:
                        res = _a.sent();
                        excepted = tslib_1.__assign(tslib_1.__assign({}, testSecurity), { apikey: testApiKey, flow: 'web', clouds: {
                                token: {
                                    path: 'test',
                                    store: {
                                        filename: '1',
                                        location: 's3',
                                    },
                                },
                            } });
                        expect(mockStore).toHaveBeenCalledWith(excepted);
                        expect(res).toEqual(testCloudToken);
                        return [2 /*return*/];
                }
            });
        }); });
        it('should handle custom source', function () { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
            var customSource, res;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        customSource = {
                            customSourcePath: 'cs_path',
                            customSourceContainer: 'cs_container',
                        };
                        return [4 /*yield*/, new cloud_1.CloudClient(testSession).store('customsource', 'test', { filename: '1' }, customSource)];
                    case 1:
                        res = _a.sent();
                        expect(res).toEqual({
                            apikey: testApiKey,
                            flow: 'web',
                            clouds: {
                                customsource: tslib_1.__assign(tslib_1.__assign({}, customSource), { path: 'test', store: {
                                        filename: '1',
                                        location: 's3',
                                    } }),
                            },
                        });
                        return [2 /*return*/];
                }
            });
        }); });
    });
    describe('logout', function () {
        it('should make correct request to logout', function () { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
            var _a;
            return tslib_1.__generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _a = expect;
                        return [4 /*yield*/, new cloud_1.CloudClient(testSession).logout()];
                    case 1:
                        _a.apply(void 0, [_b.sent()]).toEqual({ apikey: 'API_KEY', flow: 'web' });
                        return [2 /*return*/];
                }
            });
        }); });
        it('should make correct request to logout with provided cloud', function () { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
            var _a;
            return tslib_1.__generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _a = expect;
                        return [4 /*yield*/, new cloud_1.CloudClient(testSession).logout('google')];
                    case 1:
                        _a.apply(void 0, [_b.sent()]).toEqual({ apikey: 'API_KEY', flow: 'web', clouds: { google: {} } });
                        return [2 /*return*/];
                }
            });
        }); });
        it('should make correct request to logout and return correct response when cloud name is returned', function () { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
            var _a;
            return tslib_1.__generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _a = expect;
                        return [4 /*yield*/, new cloud_1.CloudClient(testSession).logout('token')];
                    case 1:
                        _a.apply(void 0, [_b.sent()]).toEqual('testCloudToken');
                        return [2 /*return*/];
                }
            });
        }); });
        it('should make correct request to logout and clean session cache ', function () { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
            var res;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        localStorage.setItem(cloud_1.PICKER_KEY, testCloudToken);
                        return [4 /*yield*/, new cloud_1.CloudClient(testSession, { sessionCache: true }).logout()];
                    case 1:
                        res = _a.sent();
                        expect(localStorage.removeItem).toHaveBeenCalledWith(cloud_1.PICKER_KEY);
                        expect(res).toEqual({ apikey: 'API_KEY', flow: 'web', token: testCloudToken });
                        return [2 /*return*/];
                }
            });
        }); });
    });
    describe('metadata', function () {
        it('should make correct request', function () { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
            var testUrl, res;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        testUrl = 'http://test.com';
                        return [4 /*yield*/, new cloud_1.CloudClient(testSession).metadata(testUrl)];
                    case 1:
                        res = _a.sent();
                        expect(mockMetadata).toHaveBeenCalledWith(expect.any(String), {
                            apikey: testApiKey,
                            url: testUrl,
                        });
                        expect(res).toEqual('metadata');
                        return [2 /*return*/];
                }
            });
        }); });
        it('should make correct request with security', function () { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
            var testUrl, res;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        testUrl = 'http://test.com';
                        return [4 /*yield*/, new cloud_1.CloudClient(tslib_1.__assign(tslib_1.__assign({}, testSession), testSecurity)).metadata(testUrl)];
                    case 1:
                        res = _a.sent();
                        expect(mockMetadata).toHaveBeenCalledWith(expect.any(String), tslib_1.__assign({ apikey: testApiKey, url: testUrl }, testSecurity));
                        expect(res).toEqual('metadata');
                        return [2 /*return*/];
                }
            });
        }); });
    });
    describe('OpenTok', function () {
        describe('tokInit', function () {
            it('should make correct request to api (audio)', function () { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
                var res;
                return tslib_1.__generator(this, function (_a) {
                    switch (_a.label) {
                        case 0: return [4 /*yield*/, new cloud_1.CloudClient(testSession).tokInit('audio')];
                        case 1:
                            res = _a.sent();
                            expect(mockTokInit).toHaveBeenCalledWith(expect.any(String), '');
                            expect(res).toEqual('init');
                            return [2 /*return*/];
                    }
                });
            }); });
            it('should make correct request to api (video)', function () { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
                var res;
                return tslib_1.__generator(this, function (_a) {
                    switch (_a.label) {
                        case 0: return [4 /*yield*/, new cloud_1.CloudClient(testSession).tokInit('audio')];
                        case 1:
                            res = _a.sent();
                            expect(mockTokInit).toHaveBeenCalledWith(expect.any(String), '');
                            expect(res).toEqual('init');
                            return [2 /*return*/];
                    }
                });
            }); });
            it('should throw on wrong type', function () { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
                return tslib_1.__generator(this, function (_a) {
                    expect(function () {
                        new cloud_1.CloudClient(testSession)
                            .tokInit('videoa')
                            .then(function () {
                            console.log('init');
                        })
                            .catch(function () {
                            console.log('err');
                        });
                    }).toThrowError();
                    return [2 /*return*/];
                });
            }); });
        });
        describe('tokStart', function () {
            it('should make correct request to api (audio)', function () { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
                var res;
                return tslib_1.__generator(this, function (_a) {
                    switch (_a.label) {
                        case 0: return [4 /*yield*/, new cloud_1.CloudClient(testSession).tokStart('audio', 'key', testTokSession)];
                        case 1:
                            res = _a.sent();
                            expect(mockTokStart).toHaveBeenCalledWith(expect.any(String), { apikey: 'key', session_id: testTokSession });
                            expect(res).toEqual('start');
                            return [2 /*return*/];
                    }
                });
            }); });
            it('should make correct request to api (video)', function () { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
                var res;
                return tslib_1.__generator(this, function (_a) {
                    switch (_a.label) {
                        case 0: return [4 /*yield*/, new cloud_1.CloudClient(testSession).tokStart('video', 'key', testTokSession)];
                        case 1:
                            res = _a.sent();
                            expect(mockTokStart).toHaveBeenCalledWith(expect.any(String), { apikey: 'key', session_id: testTokSession });
                            expect(res).toEqual('start');
                            return [2 /*return*/];
                    }
                });
            }); });
            it('should throw on wrong type', function () {
                expect(function () { return new cloud_1.CloudClient(testSession).tokStart('videoa', 'key', testTokSession); }).toThrowError();
            });
        });
        describe('tokStop', function () {
            it('should make correct request to api (audio)', function () { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
                var res;
                return tslib_1.__generator(this, function (_a) {
                    switch (_a.label) {
                        case 0: return [4 /*yield*/, new cloud_1.CloudClient(testSession).tokStop('audio', 'key', testTokSession, testTokArchiveId)];
                        case 1:
                            res = _a.sent();
                            expect(mockTokStop).toHaveBeenCalledWith(expect.any(String), {
                                apikey: 'key',
                                session_id: testTokSession,
                                archive_id: testTokArchiveId,
                            });
                            expect(res).toEqual('stop');
                            return [2 /*return*/];
                    }
                });
            }); });
            it('should make correct request to api (video)', function () { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
                var res;
                return tslib_1.__generator(this, function (_a) {
                    switch (_a.label) {
                        case 0: return [4 /*yield*/, new cloud_1.CloudClient(testSession).tokStop('video', 'key', testTokSession, testTokArchiveId)];
                        case 1:
                            res = _a.sent();
                            expect(mockTokStop).toHaveBeenCalledWith(expect.any(String), {
                                apikey: 'key',
                                session_id: testTokSession,
                                archive_id: testTokArchiveId,
                            });
                            expect(res).toEqual('stop');
                            return [2 /*return*/];
                    }
                });
            }); });
            it('should throw on wrong type', function () {
                expect(function () { return new cloud_1.CloudClient(testSession).tokStop('videoa', 'key', testTokSession, testTokArchiveId); }).toThrowError();
            });
        });
    });
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9saWIvYXBpL2Nsb3VkLnNwZWMuYnJvd3Nlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7Ozs7Ozs7Ozs7Ozs7OztHQWVHOzs7QUFFSCx5Q0FBd0M7QUFDeEMsaUNBQWtEO0FBQ2xELGtDQUFvQztBQUNwQywyQkFBNkI7QUFFN0IsSUFBTSxVQUFVLEdBQUcsU0FBUyxDQUFDO0FBQzdCLElBQU0sY0FBYyxHQUFHLGFBQWEsQ0FBQztBQUNyQyxJQUFNLGdCQUFnQixHQUFHLFlBQVksQ0FBQztBQUV0QyxJQUFNLGNBQWMsR0FBRyxnQkFBZ0IsQ0FBQztBQUV4QyxJQUFNLFlBQVksR0FBRztJQUNuQixNQUFNLEVBQUUsZUFBZTtJQUN2QixTQUFTLEVBQUUsa0JBQWtCO0NBQzlCLENBQUM7QUFFRixJQUFNLFdBQVcsR0FBRyxlQUFNLENBQUMsSUFBSSxDQUFDO0FBQ2hDLElBQU0sV0FBVyxHQUFHO0lBQ2xCLE1BQU0sRUFBRSxVQUFVO0lBQ2xCLElBQUksRUFBRSxXQUFXO0NBQ2xCLENBQUM7QUFFRixJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBRTFDLEtBQUssQ0FBQyxtQkFBbUIsQ0FBQztJQUN4Qiw2QkFBNkIsRUFBRSxVQUFBLEdBQUcsSUFBSSxPQUFBLEdBQUcsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEVBQXJCLENBQXFCO0lBQzNELDhCQUE4QixFQUFFLFVBQUEsR0FBRyxJQUFJLE9BQUEsR0FBRyxDQUFDLE9BQU8sQ0FBQywrQkFBK0IsQ0FBQyxFQUE1QyxDQUE0QztJQUNuRiw4QkFBOEIsRUFBRSxVQUFBLEdBQUcsSUFBSSxPQUFBLEdBQUcsQ0FBQyxPQUFPLENBQUMsZ0NBQWdDLENBQUMsRUFBN0MsQ0FBNkM7SUFDcEYsY0FBYyxFQUFFLGtCQUFrQjtDQUNuQyxDQUFDLENBQUM7QUFFSCxJQUFNLFdBQVcsR0FBRyxJQUFJO0tBQ3JCLEVBQUUsRUFBRTtLQUNKLFFB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QUVILEVBQUUsQ0FBQyw0Q0FBNEMsRUFBRTs7OztnQ0FDbkMscUJBQU0sSUFBSSxtQkFBVyxDQUFDLFdBQVcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsS0FBSyxFQUFFLGNBQWMsRUFBRSxnQkFBZ0IsQ0FBQyxFQUFBOzs0QkFBbEcsR0FBRyxHQUFHLFNBQTRGOzRCQUV4RyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsb0JBQW9CLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRTtnQ0FDM0QsTUFBTSxFQUFFLEtBQUs7Z0NBQ2IsVUFBVSxFQUFFLGNBQWM7Z0NBQzFCLFVBQVUsRUFBRSxnQkFBZ0I7NkJBQzdCLENBQUMsQ0FBQzs0QkFDSCxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDOzs7O2lCQUM3QixDQUFDLENBQUM7WUFFSCxFQUFFLENBQUMsNEJBQTRCLEVBQUU7Z0JBQy9CLE1BQU0sQ0FBQyxjQUFNLE9BQUEsSUFBSSxtQkFBVyxDQUFDLFdBQVcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsS0FBSyxFQUFFLGNBQWMsRUFBRSxnQkFBZ0IsQ0FBQyxFQUF2RixDQUF1RixDQUFDLENBQUMsWUFBWSxFQUFFLENBQUM7WUFDdkgsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJmaWxlIjoibGliL2FwaS9jbG91ZC5zcGVjLmJyb3dzZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQ29weXJpZ2h0IChjKSAyMDE5IGJ5IEZpbGVzdGFjay5cbiAqIFNvbWUgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4vLi4vLi4vY29uZmlnJztcbmltcG9ydCB7IENsb3VkQ2xpZW50LCBQSUNLRVJfS0VZIH0gZnJvbSAnLi9jbG91ZCc7XG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tICcuLy4uL3V0aWxzJztcbmltcG9ydCAqIGFzIG5vY2sgZnJvbSAnbm9jayc7XG5cbmNvbnN0IHRlc3RBcGlLZXkgPSAnQVBJX0tFWSc7XG5jb25zdCB0ZXN0VG9rU2Vzc2lvbiA9ICdUT0tfU0VTU0lPTic7XG5jb25zdCB0ZXN0VG9rQXJjaGl2ZUlkID0gJ0FSQ0hJVkVfSUQnO1xuXG5jb25zdCB0ZXN0Q2xvdWRUb2tlbiA9ICd0ZXN0Q2xvdWRUb2tlbic7XG5cbmNvbnN0IHRlc3RTZWN1cml0eSA9IHtcbiAgcG9saWN5OiAnZXhhbXBsZVBvbGljeScsXG4gIHNpZ25hdHVyZTogJ2V4YW1wbGVTaWduYXR1cmUnLFxufTtcblxuY29uc3Qgc2Vzc2lvblVSbHMgPSBjb25maWcudXJscztcbmNvbnN0IHRlc3RTZXNzaW9uID0ge1xuICBhcGlrZXk6IHRlc3RBcGlLZXksXG4gIHVybHM6IHNlc3Npb25VUmxzLFxufTtcblxubGV0IHNjb3BlID0gbm9jayhzZXNzaW9uVVJscy5jbG91ZEFwaVVybCk7XG5cbnNjb3BlLmRlZmF1bHRSZXBseUhlYWRlcnMoe1xuICAnYWNjZXNzLWNvbnRyb2wtYWxsb3ctb3JpZ2luJzogcmVxID0+IHJlcS5oZWFkZXJzWydvcmlnaW4nXSxcbiAgJ2FjY2Vzcy1jb250cm9sLWFsbG93LW1ldGhvZHMnOiByZXEgPT4gcmVxLmhlYWRlcnNbJ2FjY2Vzcy1jb250cm9sLXJlcXVlc3QtbWV0aG9kJ10sXG4gICdhY2Nlc3MtY29udHJvbC1hbGxvdy1oZWFkZXJzJzogcmVxID0+IHJlcS5oZWFkZXJzWydhY2Nlc3MtY29udHJvbC1yZXF1ZXN0LWhlYWRlcnMnXSxcbiAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbn0pO1xuXG5jb25zdCBtb2NrVG9rSW5pdCA9IGplc3RcbiAgLmZuKClcbiAgLm1vY2tOYW1lKCd0b2tJbml0JylcbiAgLm1vY2tSZXR1cm5WYWx1ZSgnaW5pdCcpO1xuXG5jb25zdCBtb2NrVG9rU3RhcnQgPSBqZXN0XG4gIC5mbigpXG4gIC5tb2NrTmFtZSgndG9rU3RhcnQnKVxuICAubW9ja1JldHVyblZhbHVlKCdzdGFydCcpO1xuXG5jb25zdCBtb2NrVG9rU3RvcCA9IGplc3RcbiAgLmZuKClcbiAgLm1vY2tOYW1lKCd0b2tTdG9wJylcbiAgLm1vY2tSZXR1cm5WYWx1ZSgnc3RvcCcpO1xuXG5jb25zdCBtb2NrTWV0YWRhdGEgPSBqZXN0XG4gIC5mbigpXG4gIC5tb2NrTmFtZSgnbWV0YWRhdGEnKVxuICAubW9ja1JldHVyblZhbHVlKCdtZXRhZGF0YScpO1xuXG5jb25zdCBtb2NrUHJlZmV0Y2ggPSBqZXN0XG4gIC5mbigpXG4gIC5tb2NrTmFtZSgncHJlZmV0Y2gnKVxuICAubW9ja1JldHVyblZhbHVlKCdwcmVmZXRjaCcpO1xuXG5jb25zdCBtb2NrTGlzdCA9IGplc3RcbiAgLmZuKClcbiAgLm1vY2tOYW1lKCdsaXN0JylcbiAgLm1vY2tJbXBsZW1lbnRhdGlvbihkYXRhID0+IHtcbiAgICBpZiAoZGF0YSAmJiBkYXRhLmNsb3Vkcy50b2tlbikge1xuICAgICAgcmV0dXJuIHsgdG9rZW46IHRlc3RDbG91ZFRva2VuIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH0pO1xuXG5jb25zdCBtb2NrTG9nb3V0ID0gamVzdFxuICAuZm4oKVxuICAubW9ja05hbWUoJ2xvZ291dCcpXG4gIC5tb2NrSW1wbGVtZW50YXRpb24oKHVybCwgcGFyYW1zKSA9PiB7XG4gICAgaWYgKHBhcmFtcy5jbG91ZHMgJiYgcGFyYW1zLmNsb3Vkcy50b2tlbikge1xuICAgICAgcmV0dXJuIHsgdG9rZW46IHRlc3RDbG91ZFRva2VuIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcmFtcztcbiAgfSk7XG5cbmNvbnN0IG1vY2tTdG9yZSA9IGplc3RcbiAgLmZuKClcbiAgLm1vY2tOYW1lKCdzdG9yZScpXG4gIC5tb2NrSW1wbGVtZW50YXRpb24ocGFyYW1zID0+IHtcbiAgICBpZiAocGFyYW1zICYmIHBhcmFtcy5jbG91ZHMgJiYgcGFyYW1zLmNsb3Vkcy50b2tlbikge1xuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHsgdG9rZW46IHRlc3RDbG91ZFRva2VuIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShwYXJhbXMpO1xuICB9KTtcblxuZGVzY3JpYmUoJ2Nsb3VkJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBzY29wZVxuICAgICAgLnBlcnNpc3QoKVxuICAgICAgLm9wdGlvbnMoLy4qLylcbiAgICAgIC5yZXBseSgyMDQsICcnLCB7XG4gICAgICAgICdhY2Nlc3MtY29udHJvbC1hbGxvdy1oZWFkZXJzJzogJ2ZpbGVzdGFjay1zb3VyY2UsZmlsZXN0YWNrLXRyYWNlLWlkLGZpbGVzdGFjay10cmFjZS1zcGFuJyxcbiAgICAgICAgJ2FjY2Vzcy1jb250cm9sLWFsbG93LW1ldGhvZHMnOiAnKicsXG4gICAgICAgICdhY2Nlc3MtY29udHJvbC1hbGxvdy1vcmlnaW4nOiAnKicsXG4gICAgICB9KTtcblxuICAgIHNjb3BlLnBvc3QoJy9hdXRoL2xvZ291dCcpLnJlcGx5KDIwMCwgbW9ja0xvZ291dCk7XG4gICAgc2NvcGUucG9zdCgnL2ZvbGRlci9saXN0JykucmVwbHkoMjAwLCAoXywgZGF0YSkgPT4gbW9ja0xpc3QoZGF0YSkpO1xuICAgIHNjb3BlLnBvc3QoJy9zdG9yZS8nKS5yZXBseSgyMDAsIChfLCBkYXRhKSA9PiBtb2NrU3RvcmUoZGF0YSkpO1xuICAgIHNjb3BlLnBvc3QoJy9tZXRhZGF0YScpLnJlcGx5KDIwMCwgbW9ja01ldGFkYXRhKTtcblxuICAgIHNjb3BlLnBvc3QoL1xcL3JlY29yZGluZ1xcLyhhdWRpb3x2aWRlbylcXC9pbml0LykucmVwbHkoMjAwLCBtb2NrVG9rSW5pdCk7XG4gICAgc2NvcGUucG9zdCgvXFwvcmVjb3JkaW5nXFwvKGF1ZGlvfHZpZGVvKVxcL3N0YXJ0LykucmVwbHkoMjAwLCBtb2NrVG9rU3RhcnQpO1xuICAgIHNjb3BlLnBvc3QoL1xcL3JlY29yZGluZ1xcLyhhdWRpb3x2aWRlbylcXC9zdG9wLykucmVwbHkoMjAwLCBtb2NrVG9rU3RvcCk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgbm9jay5jbGVhbkFsbCgpO1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpO1xuICB9KTtcblxuICBkZXNjcmliZSgnY2FuY2VsVG9rZW4nLCAoKSA9PiB7XG4gICAgY29uc3QgdGVzdERvbWFpbiA9ICdodHRwOi8vZGVsYXkuZmlsZXN0YWNrLnRlc3QnO1xuICAgIGxldCBzY29wZUQ7XG5cbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIHNjb3BlRCA9IG5vY2sodGVzdERvbWFpbik7XG4gICAgICBzY29wZUQucG9zdCgnL3N0b3JlLycpLmRlbGF5KDQwMDApLnJlcGx5KDIwMCk7XG4gICAgICBzY29wZUQucG9zdCgnL2ZvbGRlci9saXN0JykuZGVsYXkoNDAwMCkucmVwbHkoMjAwKTtcbiAgICB9KTtcblxuICAgIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgICBub2NrLmNsZWFuQWxsKCk7XG4gICAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpO1xuICAgIH0pO1xuXG4gICAgaXQoJ1Nob3VsZCBjYW5jZWwgc3RvcmUgcmVxdWVzdCcsIChkb25lKSA9PiB7XG4gICAgICBjb25zdCBzZXNzaW9uQ2xvbmUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRlc3RTZXNzaW9uKSk7XG4gICAgICBzZXNzaW9uQ2xvbmUudXJscy5jbG91ZEFwaVVybCA9IHRlc3REb21haW47XG5cbiAgICAgIGxldCB0b2tlbiA9IHt9O1xuXG4gICAgICBuZXcgQ2xvdWRDbGllbnQoc2Vzc2lvbkNsb25lKS5zdG9yZSgnZ29vZ2xlJywgJ3Rlc3QnLCB7IGZpbGVuYW1lOiAnMScsIGxvY2F0aW9uOiAnZ2NzJyB9LCB7fSwgdG9rZW4pLnRoZW4oKCkgPT4ge1xuICAgICAgICBkb25lKCdSZXF1ZXN0IG5vdCBjYW5jZWxlZCcpO1xuICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBleHBlY3QoZXJyKS50b0VxdWFsKGV4cGVjdC5hbnkoRXJyb3IpKTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRva2VuLmNhbmNlbCgpO1xuICAgICAgfSwgNTAwKTtcbiAgICB9KTtcblxuICAgIGl0KCdTaG91bGQgY2FuY2VsIGxpc3QgcmVxdWVzdCcsIChkb25lKSA9PiB7XG4gICAgICBjb25zdCBzZXNzaW9uQ2xvbmUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRlc3RTZXNzaW9uKSk7XG4gICAgICBzZXNzaW9uQ2xvbmUudXJscy5jbG91ZEFwaVVybCA9IHRlc3REb21haW47XG5cbiAgICAgIGxldCB0b2tlbiA9IHt9O1xuXG4gICAgICBuZXcgQ2xvdWRDbGllbnQoc2Vzc2lvbkNsb25lKS5saXN0KCdnb29nbGUnLCB0b2tlbikudGhlbigoKSA9PiB7XG4gICAgICAgIGRvbmUoJ1JlcXVlc3Qgbm90IGNhbmNlbGVkJyk7XG4gICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGV4cGVjdChlcnIpLnRvRXF1YWwoZXhwZWN0LmFueShFcnJvcikpO1xuICAgICAgICBkb25lKCk7XG4gICAgICB9KTtcblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdG9rZW4uY2FuY2VsKCk7XG4gICAgICB9LCA1MDApO1xuICAgIH0pO1xuXG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdmYWNlYm9vayBpbmFwcCBicm93c2VyJywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgc2NvcGVcbiAgICAgICAgLmdldCgnL3ByZWZldGNoJylcbiAgICAgICAgLnF1ZXJ5KHsgYXBpa2V5OiB0ZXN0QXBpS2V5IH0pXG4gICAgICAgIC5yZXBseSgyMDAsIHtcbiAgICAgICAgICBpbmFwcF9icm93c2VyOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc2V0IHRva2VuIHRvIHNlc3Npb25TdG9yZSB3aGVuIGluYXBwIGJyb3dzZXIgaXMgZGV0ZWN0ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBzcHlPbih1dGlscywgJ2lzRmFjZWJvb2snKS5hbmQucmV0dXJuVmFsdWUodHJ1ZSk7XG5cbiAgICAgIGNvbnN0IGNsaWVudCA9IG5ldyBDbG91ZENsaWVudCh0ZXN0U2Vzc2lvbik7XG4gICAgICBhd2FpdCBjbGllbnQucHJlZmV0Y2goKTtcblxuICAgICAgY29uc3QgdG9rZW4gPSAndGVzdCc7XG4gICAgICBjbGllbnQudG9rZW4gPSB0b2tlbjtcblxuICAgICAgZXhwZWN0KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oUElDS0VSX0tFWSkpLnRvRXF1YWwodG9rZW4pO1xuXG4gICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFBJQ0tFUl9LRVksIHVuZGVmaW5lZCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdldCB0b2tlbiBmcm9tIHNlc3Npb25TdG9yZSB3aGVuIGluYXBwIGJyb3dzZXIgaXMgZGV0ZWN0ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBzcHlPbih1dGlscywgJ2lzRmFjZWJvb2snKS5hbmQucmV0dXJuVmFsdWUodHJ1ZSk7XG5cbiAgICAgIGNvbnN0IGNsaWVudCA9IG5ldyBDbG91ZENsaWVudCh0ZXN0U2Vzc2lvbik7XG4gICAgICBhd2FpdCBjbGllbnQucHJlZmV0Y2goKTtcblxuICAgICAgY29uc3QgdG9rZW4gPSAndGVzdCc7XG4gICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFBJQ0tFUl9LRVksIHRva2VuKTtcblxuICAgICAgZXhwZWN0KGNsaWVudC50b2tlbikudG9FcXVhbCh0b2tlbik7XG4gICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFBJQ0tFUl9LRVksIHVuZGVmaW5lZCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHNlbmQgYXBwdXJsIGluIGxpc3QgYWN0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY2xvdWRzID0geyB0ZXN0OiB0cnVlIH07XG5cbiAgICAgIGNvbnN0IGNsaWVudCA9IG5ldyBDbG91ZENsaWVudCh0ZXN0U2Vzc2lvbik7XG4gICAgICBhd2FpdCBjbGllbnQucHJlZmV0Y2goKTtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGNsaWVudC5saXN0KHsgLi4uY2xvdWRzIH0pO1xuXG4gICAgICBleHBlY3QocmVzKS50b0VxdWFsKHtcbiAgICAgICAgYXBpa2V5OiB0ZXN0QXBpS2V5LFxuICAgICAgICBmbG93OiAnd2ViJyxcbiAgICAgICAgYXBwdXJsOiAnaHR0cDovL2xvY2FsaG9zdC8/ZnMtdGFiPWluaXQnLFxuICAgICAgICBjbG91ZHMsXG4gICAgICAgIHRva2VuOiBudWxsLFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIG5vdCBzZW5kIGFwcCB1cmwgaWYgdXJsc2VhcmNoIHBhcmFtcyBpcyB1bmRlZmluZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjbG91ZHMgPSB7IHRlc3Q6IHRydWUgfTtcblxuICAgICAgY29uc3QgYmVmb3JlID0gd2luZG93LlVSTFNlYXJjaFBhcmFtcztcbiAgICAgIHdpbmRvdy5VUkxTZWFyY2hQYXJhbXMgPSB1bmRlZmluZWQ7XG5cbiAgICAgIGNvbnN0IGNsaWVudCA9IG5ldyBDbG91ZENsaWVudCh0ZXN0U2Vzc2lvbik7XG4gICAgICBhd2FpdCBjbGllbnQucHJlZmV0Y2goKTtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGNsaWVudC5saXN0KHsgLi4uY2xvdWRzIH0pO1xuXG4gICAgICBleHBlY3QocmVzKS50b0VxdWFsKHtcbiAgICAgICAgYXBpa2V5OiB0ZXN0QXBpS2V5LFxuICAgICAgICBmbG93OiAnd2ViJyxcbiAgICAgICAgY2xvdWRzLFxuICAgICAgICB0b2tlbjogbnVsbCxcbiAgICAgIH0pO1xuXG4gICAgICB3aW5kb3cuVVJMU2VhcmNoUGFyYW1zID0gYmVmb3JlO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgncHJlZmV0Y2gnLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICBzY29wZVxuICAgICAgICAuZ2V0KCcvcHJlZmV0Y2gnKVxuICAgICAgICAucXVlcnkoeyBhcGlrZXk6IHRlc3RBcGlLZXkgfSlcbiAgICAgICAgLnJlcGx5KDIwMCwgbW9ja1ByZWZldGNoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbWFrZSBjb3JyZWN0IHJlcXVlc3QgdG8gYXBpJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgbmV3IENsb3VkQ2xpZW50KHRlc3RTZXNzaW9uKS5wcmVmZXRjaCgpO1xuXG4gICAgICBleHBlY3QobW9ja1ByZWZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChleHBlY3QuYW55KFN0cmluZyksICcnKTtcbiAgICAgIGV4cGVjdChyZXMpLnRvRXF1YWwoJ3ByZWZldGNoJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdsaXN0JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgbWFrZSBjb3JyZWN0IGxpc3QgcmVxdWVzdCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGNsb3VkcyA9IHsgdGVzdDogdHJ1ZSB9O1xuXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBuZXcgQ2xvdWRDbGllbnQodGVzdFNlc3Npb24pLmxpc3QoeyAuLi5jbG91ZHMgfSk7XG5cbiAgICAgIGV4cGVjdChyZXMpLnRvRXF1YWwoe1xuICAgICAgICBhcGlrZXk6IHRlc3RBcGlLZXksXG4gICAgICAgIGZsb3c6ICd3ZWInLFxuICAgICAgICBjbG91ZHMsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbWFrZSBjb3JyZWN0IGxpc3QgcmVxdWVzdCB3aXRoIHNlc3Npb24gY2FjaGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjbG91ZHMgPSB7IHRlc3Q6IHRydWUgfTtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFBJQ0tFUl9LRVksIHRlc3RDbG91ZFRva2VuKTtcblxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgbmV3IENsb3VkQ2xpZW50KHRlc3RTZXNzaW9uLCB7XG4gICAgICAgIHNlc3Npb25DYWNoZTogdHJ1ZSxcbiAgICAgIH0pLmxpc3QoeyAuLi5jbG91ZHMgfSk7XG5cbiAgICAgIGV4cGVjdChyZXMpLnRvRXF1YWwoe1xuICAgICAgICBhcGlrZXk6IHRlc3RBcGlLZXksXG4gICAgICAgIGZsb3c6ICd3ZWInLFxuICAgICAgICB0b2tlbjogdGVzdENsb3VkVG9rZW4sXG4gICAgICAgIGNsb3VkcyxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzZXQgdG9rZW4gb24gYXBpIHRva2VuIHJlc3BvbnNlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY2xvdWRzID0geyB0b2tlbjogdHJ1ZSB9O1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgbmV3IENsb3VkQ2xpZW50KHRlc3RTZXNzaW9uKS5saXN0KHsgLi4uY2xvdWRzIH0pO1xuXG4gICAgICBleHBlY3QocmVzKS50b0VxdWFsKHsgdG9rZW46IHRlc3RDbG91ZFRva2VuIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjYWNoZSBzZXNzaW9uIHRva2VuIHRvIGxvY2FsIHN0b3JhZ2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjbG91ZHMgPSB7IHRva2VuOiB0cnVlIH07XG5cbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IG5ldyBDbG91ZENsaWVudCh0ZXN0U2Vzc2lvbiwgeyBzZXNzaW9uQ2FjaGU6IHRydWUgfSkubGlzdCh7IC4uLmNsb3VkcyB9KTtcblxuICAgICAgZXhwZWN0KGxvY2FsU3RvcmFnZS5zZXRJdGVtKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChQSUNLRVJfS0VZLCB0ZXN0Q2xvdWRUb2tlbik7XG4gICAgICBleHBlY3QocmVzKS50b0VxdWFsKHsgdG9rZW46IHRlc3RDbG91ZFRva2VuIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBtYWtlIGNvcnJlY3QgbGlzdCByZXF1ZXN0IHdpdGggc2VjdXJpdHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjbG91ZHMgPSB7IHRlc3Q6IHRydWUgfTtcblxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgbmV3IENsb3VkQ2xpZW50KHtcbiAgICAgICAgLi4udGVzdFNlc3Npb24sXG4gICAgICAgIC4uLnRlc3RTZWN1cml0eSxcbiAgICAgIH0pLmxpc3QoeyAuLi5jbG91ZHMgfSk7XG5cbiAgICAgIGV4cGVjdChyZXMpLnRvRXF1YWwoe1xuICAgICAgICBhcGlrZXk6IHRlc3RBcGlLZXksXG4gICAgICAgIGZsb3c6ICd3ZWInLFxuICAgICAgICBjbG91ZHMsXG4gICAgICAgIC4uLnRlc3RTZWN1cml0eSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnc3RvcmUnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBtYWtlIGNvcnJlY3QgYmFzaWMgcmVxdWVzdCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IG5ldyBDbG91ZENsaWVudCh0ZXN0U2Vzc2lvbikuc3RvcmUoJ2dvb2dsZScsICd0ZXN0JywgeyBmaWxlbmFtZTogJzEnIH0pO1xuXG4gICAgICBleHBlY3QocmVzKS50b0VxdWFsKHtcbiAgICAgICAgYXBpa2V5OiB0ZXN0QXBpS2V5LFxuICAgICAgICBmbG93OiAnd2ViJyxcbiAgICAgICAgY2xvdWRzOiB7XG4gICAgICAgICAgZ29vZ2xlOiB7XG4gICAgICAgICAgICBwYXRoOiAndGVzdCcsXG4gICAgICAgICAgICBzdG9yZToge1xuICAgICAgICAgICAgICBmaWxlbmFtZTogJzEnLFxuICAgICAgICAgICAgICBsb2NhdGlvbjogJ3MzJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXNwZWN0IHN0b3JlIGxvY2F0aW9uIHBhcmFtJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgbmV3IENsb3VkQ2xpZW50KHRlc3RTZXNzaW9uKS5zdG9yZSgnZ29vZ2xlJywgJ3Rlc3QnLCB7IGZpbGVuYW1lOiAnMScsIGxvY2F0aW9uOiAnZ2NzJyB9KTtcblxuICAgICAgZXhwZWN0KHJlcykudG9FcXVhbCh7XG4gICAgICAgIGFwaWtleTogdGVzdEFwaUtleSxcbiAgICAgICAgZmxvdzogJ3dlYicsXG4gICAgICAgIGNsb3Vkczoge1xuICAgICAgICAgIGdvb2dsZToge1xuICAgICAgICAgICAgcGF0aDogJ3Rlc3QnLFxuICAgICAgICAgICAgc3RvcmU6IHtcbiAgICAgICAgICAgICAgZmlsZW5hbWU6ICcxJyxcbiAgICAgICAgICAgICAgbG9jYXRpb246ICdnY3MnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIG1ha2UgY29ycmVjdCBiYXNpYyB3aXRoIHNlY3VyaXR5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgbmV3IENsb3VkQ2xpZW50KHtcbiAgICAgICAgLi4udGVzdFNlc3Npb24sXG4gICAgICAgIC4uLnRlc3RTZWN1cml0eSxcbiAgICAgIH0pLnN0b3JlKCd0b2tlbicsICd0ZXN0JywgeyBmaWxlbmFtZTogJzEnIH0pO1xuXG4gICAgICBjb25zdCBleGNlcHRlZCA9IHtcbiAgICAgICAgLi4udGVzdFNlY3VyaXR5LFxuICAgICAgICBhcGlrZXk6IHRlc3RBcGlLZXksXG4gICAgICAgIGZsb3c6ICd3ZWInLFxuICAgICAgICBjbG91ZHM6IHtcbiAgICAgICAgICB0b2tlbjoge1xuICAgICAgICAgICAgcGF0aDogJ3Rlc3QnLFxuICAgICAgICAgICAgc3RvcmU6IHtcbiAgICAgICAgICAgICAgZmlsZW5hbWU6ICcxJyxcbiAgICAgICAgICAgICAgbG9jYXRpb246ICdzMycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9O1xuXG4gICAgICBleHBlY3QobW9ja1N0b3JlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChleGNlcHRlZCk7XG4gICAgICBleHBlY3QocmVzKS50b0VxdWFsKHRlc3RDbG91ZFRva2VuKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGN1c3RvbSBzb3VyY2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjdXN0b21Tb3VyY2UgPSB7XG4gICAgICAgIGN1c3RvbVNvdXJjZVBhdGg6ICdjc19wYXRoJyxcbiAgICAgICAgY3VzdG9tU291cmNlQ29udGFpbmVyOiAnY3NfY29udGFpbmVyJyxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IG5ldyBDbG91ZENsaWVudCh0ZXN0U2Vzc2lvbikuc3RvcmUoJ2N1c3RvbXNvdXJjZScsICd0ZXN0JywgeyBmaWxlbmFtZTogJzEnIH0sIGN1c3RvbVNvdXJjZSk7XG5cbiAgICAgIGV4cGVjdChyZXMpLnRvRXF1YWwoe1xuICAgICAgICBhcGlrZXk6IHRlc3RBcGlLZXksXG4gICAgICAgIGZsb3c6ICd3ZWInLFxuICAgICAgICBjbG91ZHM6IHtcbiAgICAgICAgICBjdXN0b21zb3VyY2U6IHtcbiAgICAgICAgICAgIC4uLmN1c3RvbVNvdXJjZSxcbiAgICAgICAgICAgIHBhdGg6ICd0ZXN0JyxcbiAgICAgICAgICAgIHN0b3JlOiB7XG4gICAgICAgICAgICAgIGZpbGVuYW1lOiAnMScsXG4gICAgICAgICAgICAgIGxvY2F0aW9uOiAnczMnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdsb2dvdXQnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBtYWtlIGNvcnJlY3QgcmVxdWVzdCB0byBsb2dvdXQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBleHBlY3QoYXdhaXQgbmV3IENsb3VkQ2xpZW50KHRlc3RTZXNzaW9uKS5sb2dvdXQoKSkudG9FcXVhbCh7IGFwaWtleTogJ0FQSV9LRVknLCBmbG93OiAnd2ViJyB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbWFrZSBjb3JyZWN0IHJlcXVlc3QgdG8gbG9nb3V0IHdpdGggcHJvdmlkZWQgY2xvdWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBleHBlY3QoYXdhaXQgbmV3IENsb3VkQ2xpZW50KHRlc3RTZXNzaW9uKS5sb2dvdXQoJ2dvb2dsZScpKS50b0VxdWFsKHsgYXBpa2V5OiAnQVBJX0tFWScsIGZsb3c6ICd3ZWInLCBjbG91ZHM6IHsgZ29vZ2xlOiB7fSB9IH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBtYWtlIGNvcnJlY3QgcmVxdWVzdCB0byBsb2dvdXQgYW5kIHJldHVybiBjb3JyZWN0IHJlc3BvbnNlIHdoZW4gY2xvdWQgbmFtZSBpcyByZXR1cm5lZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGV4cGVjdChhd2FpdCBuZXcgQ2xvdWRDbGllbnQodGVzdFNlc3Npb24pLmxvZ291dCgndG9rZW4nKSkudG9FcXVhbCgndGVzdENsb3VkVG9rZW4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbWFrZSBjb3JyZWN0IHJlcXVlc3QgdG8gbG9nb3V0IGFuZCBjbGVhbiBzZXNzaW9uIGNhY2hlICcsIGFzeW5jICgpID0+IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFBJQ0tFUl9LRVksIHRlc3RDbG91ZFRva2VuKTtcblxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgbmV3IENsb3VkQ2xpZW50KHRlc3RTZXNzaW9uLCB7IHNlc3Npb25DYWNoZTogdHJ1ZSB9KS5sb2dvdXQoKTtcblxuICAgICAgZXhwZWN0KGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChQSUNLRVJfS0VZKTtcbiAgICAgIGV4cGVjdChyZXMpLnRvRXF1YWwoeyBhcGlrZXk6ICdBUElfS0VZJywgZmxvdzogJ3dlYicsIHRva2VuOiB0ZXN0Q2xvdWRUb2tlbiB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ21ldGFkYXRhJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgbWFrZSBjb3JyZWN0IHJlcXVlc3QnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB0ZXN0VXJsID0gJ2h0dHA6Ly90ZXN0LmNvbSc7XG5cbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IG5ldyBDbG91ZENsaWVudCh0ZXN0U2Vzc2lvbikubWV0YWRhdGEodGVzdFVybCk7XG5cbiAgICAgIGV4cGVjdChtb2NrTWV0YWRhdGEpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGV4cGVjdC5hbnkoU3RyaW5nKSwge1xuICAgICAgICBhcGlrZXk6IHRlc3RBcGlLZXksXG4gICAgICAgIHVybDogdGVzdFVybCxcbiAgICAgIH0pO1xuICAgICAgZXhwZWN0KHJlcykudG9FcXVhbCgnbWV0YWRhdGEnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbWFrZSBjb3JyZWN0IHJlcXVlc3Qgd2l0aCBzZWN1cml0eScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHRlc3RVcmwgPSAnaHR0cDovL3Rlc3QuY29tJztcblxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgbmV3IENsb3VkQ2xpZW50KHtcbiAgICAgICAgLi4udGVzdFNlc3Npb24sXG4gICAgICAgIC4uLnRlc3RTZWN1cml0eSxcbiAgICAgIH0pLm1ldGFkYXRhKHRlc3RVcmwpO1xuXG4gICAgICBleHBlY3QobW9ja01ldGFkYXRhKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChleHBlY3QuYW55KFN0cmluZyksIHtcbiAgICAgICAgYXBpa2V5OiB0ZXN0QXBpS2V5LFxuICAgICAgICB1cmw6IHRlc3RVcmwsXG4gICAgICAgIC4uLnRlc3RTZWN1cml0eSxcbiAgICAgIH0pO1xuICAgICAgZXhwZWN0KHJlcykudG9FcXVhbCgnbWV0YWRhdGEnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ09wZW5Ub2snLCAoKSA9PiB7XG4gICAgZGVzY3JpYmUoJ3Rva0luaXQnLCAoKSA9PiB7XG4gICAgICBpdCgnc2hvdWxkIG1ha2UgY29ycmVjdCByZXF1ZXN0IHRvIGFwaSAoYXVkaW8pJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBuZXcgQ2xvdWRDbGllbnQodGVzdFNlc3Npb24pLnRva0luaXQoJ2F1ZGlvJyk7XG5cbiAgICAgICAgZXhwZWN0KG1vY2tUb2tJbml0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChleHBlY3QuYW55KFN0cmluZyksICcnKTtcbiAgICAgICAgZXhwZWN0KHJlcykudG9FcXVhbCgnaW5pdCcpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgbWFrZSBjb3JyZWN0IHJlcXVlc3QgdG8gYXBpICh2aWRlbyknLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IG5ldyBDbG91ZENsaWVudCh0ZXN0U2Vzc2lvbikudG9rSW5pdCgnYXVkaW8nKTtcblxuICAgICAgICBleHBlY3QobW9ja1Rva0luaXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGV4cGVjdC5hbnkoU3RyaW5nKSwgJycpO1xuICAgICAgICBleHBlY3QocmVzKS50b0VxdWFsKCdpbml0Jyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCB0aHJvdyBvbiB3cm9uZyB0eXBlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgICAgIG5ldyBDbG91ZENsaWVudCh0ZXN0U2Vzc2lvbilcbiAgICAgICAgICAgIC50b2tJbml0KCd2aWRlb2EnKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnaW5pdCcpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnInKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KS50b1Rocm93RXJyb3IoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ3Rva1N0YXJ0JywgKCkgPT4ge1xuICAgICAgaXQoJ3Nob3VsZCBtYWtlIGNvcnJlY3QgcmVxdWVzdCB0byBhcGkgKGF1ZGlvKScsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgbmV3IENsb3VkQ2xpZW50KHRlc3RTZXNzaW9uKS50b2tTdGFydCgnYXVkaW8nLCAna2V5JywgdGVzdFRva1Nlc3Npb24pO1xuXG4gICAgICAgIGV4cGVjdChtb2NrVG9rU3RhcnQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGV4cGVjdC5hbnkoU3RyaW5nKSwgeyBhcGlrZXk6ICdrZXknLCBzZXNzaW9uX2lkOiB0ZXN0VG9rU2Vzc2lvbiB9KTtcbiAgICAgICAgZXhwZWN0KHJlcykudG9FcXVhbCgnc3RhcnQnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIG1ha2UgY29ycmVjdCByZXF1ZXN0IHRvIGFwaSAodmlkZW8pJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBuZXcgQ2xvdWRDbGllbnQodGVzdFNlc3Npb24pLnRva1N0YXJ0KCd2aWRlbycsICdrZXknLCB0ZXN0VG9rU2Vzc2lvbik7XG5cbiAgICAgICAgZXhwZWN0KG1vY2tUb2tTdGFydCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoZXhwZWN0LmFueShTdHJpbmcpLCB7IGFwaWtleTogJ2tleScsIHNlc3Npb25faWQ6IHRlc3RUb2tTZXNzaW9uIH0pO1xuICAgICAgICBleHBlY3QocmVzKS50b0VxdWFsKCdzdGFydCcpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgdGhyb3cgb24gd3JvbmcgdHlwZScsICgpID0+IHtcbiAgICAgICAgZXhwZWN0KCgpID0+IG5ldyBDbG91ZENsaWVudCh0ZXN0U2Vzc2lvbikudG9rU3RhcnQoJ3ZpZGVvYScsICdrZXknLCB0ZXN0VG9rU2Vzc2lvbikpLnRvVGhyb3dFcnJvcigpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgndG9rU3RvcCcsICgpID0+IHtcbiAgICAgIGl0KCdzaG91bGQgbWFrZSBjb3JyZWN0IHJlcXVlc3QgdG8gYXBpIChhdWRpbyknLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IG5ldyBDbG91ZENsaWVudCh0ZXN0U2Vzc2lvbikudG9rU3RvcCgnYXVkaW8nLCAna2V5JywgdGVzdFRva1Nlc3Npb24sIHRlc3RUb2tBcmNoaXZlSWQpO1xuXG4gICAgICAgIGV4cGVjdChtb2NrVG9rU3RvcCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoZXhwZWN0LmFueShTdHJpbmcpLCB7XG4gICAgICAgICAgYXBpa2V5OiAna2V5JyxcbiAgICAgICAgICBzZXNzaW9uX2lkOiB0ZXN0VG9rU2Vzc2lvbixcbiAgICAgICAgICBhcmNoaXZlX2lkOiB0ZXN0VG9rQXJjaGl2ZUlkLFxuICAgICAgICB9KTtcbiAgICAgICAgZXhwZWN0KHJlcykudG9FcXVhbCgnc3RvcCcpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgbWFrZSBjb3JyZWN0IHJlcXVlc3QgdG8gYXBpICh2aWRlbyknLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IG5ldyBDbG91ZENsaWVudCh0ZXN0U2Vzc2lvbikudG9rU3RvcCgndmlkZW8nLCAna2V5JywgdGVzdFRva1Nlc3Npb24sIHRlc3RUb2tBcmNoaXZlSWQpO1xuXG4gICAgICAgIGV4cGVjdChtb2NrVG9rU3RvcCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoZXhwZWN0LmFueShTdHJpbmcpLCB7XG4gICAgICAgICAgYXBpa2V5OiAna2V5JyxcbiAgICAgICAgICBzZXNzaW9uX2lkOiB0ZXN0VG9rU2Vzc2lvbixcbiAgICAgICAgICBhcmNoaXZlX2lkOiB0ZXN0VG9rQXJjaGl2ZUlkLFxuICAgICAgICB9KTtcbiAgICAgICAgZXhwZWN0KHJlcykudG9FcXVhbCgnc3RvcCcpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgdGhyb3cgb24gd3JvbmcgdHlwZScsICgpID0+IHtcbiAgICAgICAgZXhwZWN0KCgpID0+IG5ldyBDbG91ZENsaWVudCh0ZXN0U2Vzc2lvbikudG9rU3RvcCgndmlkZW9hJywgJ2tleScsIHRlc3RUb2tTZXNzaW9uLCB0ZXN0VG9rQXJjaGl2ZUlkKSkudG9UaHJvd0Vycm9yKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdfQ==
