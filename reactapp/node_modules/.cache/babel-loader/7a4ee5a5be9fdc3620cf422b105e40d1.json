{"ast":null,"code":"var _jsxFileName = \"/home/huber/Pulpit/Divelog/reactapp/src/util/withTwitterAuth.js\";\nimport React from 'react';\nimport AuthService from './AuthService';\nimport { Redirect } from 'react-router-dom';\nexport default function withTwitterAuth(AuthComponent, props) {\n  const Auth = new AuthService();\n\n  class AuthWrapped extends React.Component {\n    constructor() {\n      super();\n      this.state = {\n        isRedirectToLoginPage: true\n      };\n    }\n\n    componentWillMount() {\n      console.log(this.props.match.params.jwtToken);\n      fetch(\"/twitter/login/validate/token/\".concat(jwtToken), {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        console.log(response);\n\n        if (response.status === 200) {\n          this.setState({\n            isRedirectToLoginPage: false\n          });\n        }\n      });\n    }\n\n    render() {\n      let isRedirectToLoginPage = this.state.isRedirectToLoginPage;\n\n      if (!isRedirectToLoginPage) {\n        return React.createElement(AuthComponent, {\n          history: this.props.history,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      });\n    }\n\n  }\n\n  return AuthWrapped;\n}","map":{"version":3,"sources":["/home/huber/Pulpit/Divelog/reactapp/src/util/withTwitterAuth.js"],"names":["React","AuthService","Redirect","withTwitterAuth","AuthComponent","props","Auth","AuthWrapped","Component","constructor","state","isRedirectToLoginPage","componentWillMount","console","log","match","params","jwtToken","fetch","method","headers","then","response","status","setState","render","history"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AAEA,eAAe,SAASC,eAAT,CAAyBC,aAAzB,EAAwCC,KAAxC,EAA+C;AAC1D,QAAMC,IAAI,GAAI,IAAIL,WAAJ,EAAd;;AAEA,QAAMM,WAAN,SAA0BP,KAAK,CAACQ,SAAhC,CAA0C;AACtCC,IAAAA,WAAW,GAAG;AACV;AAEA,WAAKC,KAAL,GAAa;AACTC,QAAAA,qBAAqB,EAAE;AADd,OAAb;AAGH;;AACDC,IAAAA,kBAAkB,GAAG;AACjBC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKT,KAAL,CAAWU,KAAX,CAAiBC,MAAjB,CAAwBC,QAApC;AACAC,MAAAA,KAAK,yCAAkCD,QAAlC,GAA8C;AAC/CE,QAAAA,MAAM,EAAE,KADuC;AAE/CC,QAAAA,OAAO,EAAE;AACL,0BAAgB;AADX;AAFsC,OAA9C,CAAL,CAKGC,IALH,CAKQC,QAAQ,IAAI;AAChBT,QAAAA,OAAO,CAACC,GAAR,CAAYQ,QAAZ;;AACA,YAAGA,QAAQ,CAACC,MAAT,KAAoB,GAAvB,EAA4B;AACxB,eAAKC,QAAL,CAAc;AAAEb,YAAAA,qBAAqB,EAAE;AAAzB,WAAd;AACH;AACJ,OAVD;AAYH;;AAEDc,IAAAA,MAAM,GAAG;AACL,UAAId,qBAAqB,GAAG,KAAKD,KAAL,CAAWC,qBAAvC;;AAEA,UAAG,CAACA,qBAAJ,EAA2B;AACvB,eAAO,oBAAC,aAAD;AAAe,UAAA,OAAO,EAAE,KAAKN,KAAL,CAAWqB,OAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACH;;AACD,aAAO,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH;;AA/BqC;;AAiC1C,SAAOnB,WAAP;AACH","sourcesContent":["import React from 'react';\nimport AuthService from './AuthService';\nimport { Redirect } from 'react-router-dom';\n\nexport default function withTwitterAuth(AuthComponent, props) {\n    const Auth =  new AuthService();\n\n    class AuthWrapped extends React.Component {\n        constructor() {\n            super();\n\n            this.state = {\n                isRedirectToLoginPage: true\n            }\n        }\n        componentWillMount() {\n            console.log(this.props.match.params.jwtToken);\n            fetch(`/twitter/login/validate/token/${jwtToken}`, {\n                method: 'GET',\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            }).then(response => {\n                console.log(response);\n                if(response.status === 200) {\n                    this.setState({ isRedirectToLoginPage: false });\n                }\n            })\n\n        }\n\n        render() {\n            let isRedirectToLoginPage = this.state.isRedirectToLoginPage;\n            \n            if(!isRedirectToLoginPage) {\n                return <AuthComponent history={this.props.history} />\n            }\n            return <Redirect to=\"/login\" />\n        }\n    }\n    return AuthWrapped;\n}"]},"metadata":{},"sourceType":"module"}