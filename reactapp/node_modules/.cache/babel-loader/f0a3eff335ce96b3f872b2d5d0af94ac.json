{"ast":null,"code":"import axios from 'axios';\nimport { GET_ERRORS } from './types';\nexport const createLogbook = (logbook, jwtToken, history) => async dispatch => {\n  const config = {\n    method: 'POST',\n    url: \"/add/logbook/\".concat(jwtToken),\n    data: logbook,\n    headers: {\n      \"Accept\": \"application/json\",\n      \"Content-type\": \"application/json\"\n    }\n  };\n\n  try {\n    axios.defaults.headers.common['Authorization'] = jwtToken;\n    await axios.post(config);\n    history.push(\"/logbook\");\n    dispatch({\n      type: GET_ERRORS,\n      payload: {}\n    });\n  } catch (err) {\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response.data\n    });\n  }\n};","map":{"version":3,"sources":["/home/huber/Pulpit/divelog/react-divelog/src/actions/logbookActions.js"],"names":["axios","GET_ERRORS","createLogbook","logbook","jwtToken","history","dispatch","config","method","url","data","headers","defaults","common","post","push","type","payload","err","response"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,SAA3B;AAEA,OAAO,MAAMC,aAAa,GAAG,CAACC,OAAD,EAAUC,QAAV,EAAoBC,OAApB,KAAgC,MAAMC,QAAN,IAAkB;AAC3E,QAAMC,MAAM,GAAG;AACXC,IAAAA,MAAM,EAAE,MADG;AAEXC,IAAAA,GAAG,yBAAkBL,QAAlB,CAFQ;AAGXM,IAAAA,IAAI,EAAEP,OAHK;AAIXQ,IAAAA,OAAO,EAAE;AACL,gBAAU,kBADL;AAEL,sBAAgB;AAFX;AAJE,GAAf;;AASA,MAAI;AACAX,IAAAA,KAAK,CAACY,QAAN,CAAeD,OAAf,CAAuBE,MAAvB,CAA8B,eAA9B,IAAiDT,QAAjD;AACA,UAAMJ,KAAK,CAACc,IAAN,CAAWP,MAAX,CAAN;AACAF,IAAAA,OAAO,CAACU,IAAR,CAAa,UAAb;AAEAT,IAAAA,QAAQ,CAAC;AACLU,MAAAA,IAAI,EAAEf,UADD;AAELgB,MAAAA,OAAO,EAAE;AAFJ,KAAD,CAAR;AAIH,GATD,CASE,OAAMC,GAAN,EAAW;AACTZ,IAAAA,QAAQ,CAAC;AACLU,MAAAA,IAAI,EAAEf,UADD;AAELgB,MAAAA,OAAO,EAAEC,GAAG,CAACC,QAAJ,CAAaT;AAFjB,KAAD,CAAR;AAIH;AACJ,CAzBM","sourcesContent":["import axios from 'axios';\nimport { GET_ERRORS } from './types';\n\nexport const createLogbook = (logbook, jwtToken, history) => async dispatch => {\n    const config = {\n        method: 'POST',\n        url: `/add/logbook/${jwtToken}`,\n        data: logbook,\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-type\": \"application/json\"\n        }\n    }\n    try {\n        axios.defaults.headers.common['Authorization'] = jwtToken;\n        await axios.post(config);\n        history.push(\"/logbook\");\n\n        dispatch({\n            type: GET_ERRORS,\n            payload: {}\n        })\n    } catch(err) {\n        dispatch({\n            type: GET_ERRORS,\n            payload: err.response.data\n        })\n    }\n};"]},"metadata":{},"sourceType":"module"}