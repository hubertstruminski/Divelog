{"ast":null,"code":"var _jsxFileName = \"/home/huber/Pulpit/Divelog/reactapp/src/components/forum/TopTopics.js\";\nimport React from 'react';\nimport Topic from './Topic';\nimport ConvertTime from '../../util/ConvertTime';\n\nclass TopTopics extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      topEnglishTopics: [],\n      topPolishTopics: [],\n      topGermanyTopics: [],\n      isPolishFive: false,\n      isGermanyFive: false,\n      isEnglishFive: false,\n      isLeft: false\n    };\n    this.ConvertTime = new ConvertTime();\n    this.generateTopPolishTopics = this.generateTopPolishTopics.bind(this);\n    this.generateTopGermanyTopics = this.generateTopGermanyTopics.bind(this);\n    this.generateTopEnglishTopics = this.generateTopEnglishTopics.bind(this);\n  }\n\n  componentDidMount() {\n    fetch(\"/get/top/topics/all\", {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json, text/plain, */*',\n        'content-type': 'application/json'\n      }\n    }).then(response => response.json()).then(jsonData => {\n      let countTopPolish = 0;\n      let countTopGermany = 0;\n      let countTopEnglish = 0;\n      jsonData.map((topic, index) => {\n        if (topic.languageForum === 'polish') {\n          let time = this.ConvertTime.convertTime(topic.createdAt, null, false);\n          const element = {\n            id: topic.id,\n            title: topic.title,\n            createdAt: time[0],\n            owner: topic.user.name,\n            countTopPolish: countTopPolish\n          };\n          this.setState({\n            topPolishTopics: this.state.topPolishTopics.concat(element)\n          });\n          countTopPolish++;\n        }\n\n        if (topic.languageForum === 'english') {\n          let time = this.ConvertTime.convertTime(topic.createdAt, null, false);\n          const element = {\n            id: topic.id,\n            title: topic.title,\n            createdAt: time[0],\n            owner: topic.user.name,\n            countTopEnglish: countTopEnglish\n          };\n          this.setState({\n            topEnglishTopics: this.state.topEnglishTopics.concat(element)\n          });\n          countTopEnglish++;\n        }\n\n        if (topic.languageForum === 'germany') {\n          let time = this.ConvertTime.convertTime(topic.createdAt, null, false);\n          const element = {\n            id: topic.id,\n            title: topic.title,\n            createdAt: time[0],\n            owner: topic.user.name,\n            countTopGermany: countTopGermany\n          };\n          this.setState({\n            topGermanyTopics: this.state.topGermanyTopics.concat(element)\n          });\n          countTopGermany++;\n        }\n      });\n      this.setState({\n        isLeft: false\n      }, () => {\n        if (this.state.topPolishTopics.length > 4) {\n          this.setState({\n            isPolishFive: true\n          }, () => {\n            this.props.setTopEnglishFive();\n          });\n        }\n\n        if (this.state.topGermanyTopics.length > 4) {\n          this.setState({\n            isGermanyFive: true\n          }, () => {\n            this.props.setTopGermanyFive();\n          });\n        }\n\n        if (this.state.topEnglishTopics.length > 4) {\n          this.setState({\n            isEnglishFive: true\n          }, () => {\n            this.props.setTopEnglishFive();\n          });\n        }\n      });\n    });\n  }\n\n  generateTopPolishTopics() {\n    return this.state.topPolishTopics.map((topic, index) => {\n      return React.createElement(Topic, {\n        key: index,\n        id: topic.id,\n        owner: topic.owner,\n        title: topic.title,\n        createdAt: topic.createdAt,\n        languageForum: this.props.selectedForum,\n        count: topic.countTopPolish,\n        isLeft: this.state.isLeft,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      });\n    });\n  }\n\n  generateTopEnglishTopics() {\n    return this.state.topEnglishTopics.map((topic, index) => {\n      return React.createElement(Topic, {\n        key: index,\n        id: topic.id,\n        owner: topic.owner,\n        title: topic.title,\n        createdAt: topic.createdAt,\n        languageForum: this.props.selectedForum,\n        count: topic.countTopEnglish,\n        isLeft: this.state.isLeft,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      });\n    });\n  }\n\n  generateTopGermanyTopics() {\n    return this.state.topGermanyTopics.map((topic, index) => {\n      return React.createElement(Topic, {\n        key: index,\n        id: topic.id,\n        owner: topic.owner,\n        title: topic.title,\n        createdAt: topic.createdAt,\n        languageForum: this.props.selectedForum,\n        count: topic.countTopGermany,\n        isLeft: this.state.isLeft,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      });\n    });\n  }\n\n  render() {\n    let isGermanyFive = this.state.isGermanyFive;\n    let isPolishFive = this.state.isPolishFive;\n    let isEnglishFive = this.state.isEnglishFive;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, isPolishFive && this.generateTopPolishTopics(), isGermanyFive && this.generateTopGermanyTopics(), isEnglishFive && this.generateTopEnglishTopics());\n  }\n\n}\n\nexport default TopTopics;","map":{"version":3,"sources":["/home/huber/Pulpit/Divelog/reactapp/src/components/forum/TopTopics.js"],"names":["React","Topic","ConvertTime","TopTopics","Component","constructor","props","state","topEnglishTopics","topPolishTopics","topGermanyTopics","isPolishFive","isGermanyFive","isEnglishFive","isLeft","generateTopPolishTopics","bind","generateTopGermanyTopics","generateTopEnglishTopics","componentDidMount","fetch","method","headers","then","response","json","jsonData","countTopPolish","countTopGermany","countTopEnglish","map","topic","index","languageForum","time","convertTime","createdAt","element","id","title","owner","user","name","setState","concat","length","setTopEnglishFive","setTopGermanyFive","selectedForum","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Topic from './Topic';\nimport ConvertTime from '../../util/ConvertTime';\n\nclass TopTopics extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            topEnglishTopics: [],\n            topPolishTopics: [],\n            topGermanyTopics: [],\n            isPolishFive: false,\n            isGermanyFive: false,\n            isEnglishFive: false,\n            isLeft: false\n        }\n        this.ConvertTime = new ConvertTime();\n\n        this.generateTopPolishTopics = this.generateTopPolishTopics.bind(this);\n        this.generateTopGermanyTopics = this.generateTopGermanyTopics.bind(this);\n        this.generateTopEnglishTopics = this.generateTopEnglishTopics.bind(this);\n    }\n\n    componentDidMount() {\n        fetch(\"/get/top/topics/all\", {\n            method: 'GET',\n            headers: {\n                'Accept': 'application/json, text/plain, */*',\n                'content-type': 'application/json'\n            }\n        }).then(response => response.json())\n        .then(jsonData => {\n            let countTopPolish = 0;\n            let countTopGermany = 0;\n            let countTopEnglish = 0;\n            jsonData.map((topic, index) => {\n                if(topic.languageForum === 'polish') {\n                    let time = this.ConvertTime.convertTime(topic.createdAt, null, false);\n\n                    const element = {\n                        id: topic.id,\n                        title: topic.title,\n                        createdAt: time[0],\n                        owner: topic.user.name,\n                        countTopPolish: countTopPolish\n                    }\n                    this.setState({ topPolishTopics: this.state.topPolishTopics.concat(element) });\n                    countTopPolish++\n                }\n\n                if(topic.languageForum === 'english') {\n                    let time = this.ConvertTime.convertTime(topic.createdAt, null, false);\n\n                    const element = {\n                        id: topic.id,\n                        title: topic.title,\n                        createdAt: time[0],\n                        owner: topic.user.name,\n                        countTopEnglish: countTopEnglish\n                    }\n                    this.setState({ topEnglishTopics: this.state.topEnglishTopics.concat(element) });\n                    countTopEnglish++\n                }\n\n                if(topic.languageForum === 'germany') {\n                    let time = this.ConvertTime.convertTime(topic.createdAt, null, false);\n\n                    const element = {\n                        id: topic.id,\n                        title: topic.title,\n                        createdAt: time[0],\n                        owner: topic.user.name,\n                        countTopGermany: countTopGermany\n                    }\n                    this.setState({ topGermanyTopics: this.state.topGermanyTopics.concat(element) });\n                    countTopGermany++\n                }\n            });\n            this.setState({ isLeft: false }, () => {\n                if(this.state.topPolishTopics.length > 4) {\n                    this.setState({ isPolishFive: true }, () => {\n                        this.props.setTopEnglishFive();\n                    });\n\n                }\n\n                if(this.state.topGermanyTopics.length > 4) {\n                    this.setState({ isGermanyFive: true }, () => {\n                        this.props.setTopGermanyFive();\n                    });\n                }\n\n                if(this.state.topEnglishTopics.length > 4) {\n                    this.setState({ isEnglishFive: true }, () => {\n                        this.props.setTopEnglishFive();\n                    });\n                }\n            });\n        });\n    }\n\n    generateTopPolishTopics() {\n        return this.state.topPolishTopics.map((topic, index) => {\n            return (\n                <Topic \n                    key={index}\n                    id={topic.id}\n                    owner={topic.owner}\n                    title={topic.title}\n                    createdAt={topic.createdAt}\n                    languageForum={this.props.selectedForum}\n                    count={topic.countTopPolish}\n                    isLeft={this.state.isLeft}\n                />\n            );\n        });\n    }\n\n    generateTopEnglishTopics() {\n        return this.state.topEnglishTopics.map((topic, index) => {\n            return (\n                <Topic \n                    key={index}\n                    id={topic.id}\n                    owner={topic.owner}\n                    title={topic.title}\n                    createdAt={topic.createdAt}\n                    languageForum={this.props.selectedForum}\n                    count={topic.countTopEnglish}\n                    isLeft={this.state.isLeft}\n                />\n            );\n        });\n    }\n\n    generateTopGermanyTopics() {\n        return this.state.topGermanyTopics.map((topic, index) => {\n            return (\n                <Topic \n                    key={index}\n                    id={topic.id}\n                    owner={topic.owner}\n                    title={topic.title}\n                    createdAt={topic.createdAt}\n                    languageForum={this.props.selectedForum}\n                    count={topic.countTopGermany}\n                    isLeft={this.state.isLeft}\n                />\n            );\n        });\n    }\n\n    render() {\n        let isGermanyFive = this.state.isGermanyFive;\n        let isPolishFive = this.state.isPolishFive;\n        let isEnglishFive = this.state.isEnglishFive;\n\n        return (\n            <div>\n                { isPolishFive && this.generateTopPolishTopics()  }\n                { isGermanyFive && this.generateTopGermanyTopics() }\n                { isEnglishFive && this.generateTopEnglishTopics() }\n            </div>\n        );\n    }\n}\n\nexport default TopTopics;"]},"metadata":{},"sourceType":"module"}