{"ast":null,"code":"var _jsxFileName = \"/home/msi/Pulpit/Divelog/react-divelog/src/components/User.js\";\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport FB from 'fb';\nimport { isFlowPredicate } from '@babel/types';\n\nclass User extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      accessToken: '',\n      email: '',\n      name: '',\n      userID: ''\n    };\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    let userID = localStorage.getItem(\"KEY\");\n    fetch(\"/getuserdata/\".concat(userID), {\n      method: 'GET',\n      headers: {\n        'content-type': 'application/json'\n      }\n    }).then(response => response.json()).then(jsonData => {\n      this.setState({\n        accessToken: jsonData.accessToken,\n        email: jsonData.email,\n        name: jsonData.name,\n        userID: jsonData.userID\n      });\n    });\n    localStorage.removeItem(\"KEY\");\n  }\n\n  onSubmit() {\n    window.fbAsyncInit = function () {\n      FB.init({\n        appId: '455695445269575',\n        cookie: true,\n        xfbml: true,\n        version: 'v3.3'\n      });\n      FB.getLoginStatus(function (response) {\n        FB.logout(function (response) {\n          window.location.href = \"/\";\n        });\n      }.bind(this));\n    }.bind(this);\n\n    (function (d, s, id) {\n      var js,\n          fjs = d.getElementsByTagName(s)[0];\n      if (d.getElementById(id)) return;\n      js = d.createElement(s);\n      js.id = id;\n      js.src = \"//connect.facebook.net/en_US/all.js\";\n      fjs.parentNode.insertBefore(js, fjs);\n    })(document, 'script', 'facebook-jssdk');\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Codecool\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Logout\"));\n  }\n\n}\n\nexport default withRouter(User);","map":{"version":3,"sources":["/home/msi/Pulpit/Divelog/react-divelog/src/components/User.js"],"names":["React","withRouter","FB","isFlowPredicate","User","Component","constructor","props","state","accessToken","email","name","userID","onSubmit","bind","componentDidMount","localStorage","getItem","fetch","method","headers","then","response","json","jsonData","setState","removeItem","window","fbAsyncInit","init","appId","cookie","xfbml","version","getLoginStatus","logout","location","href","d","s","id","js","fjs","getElementsByTagName","getElementById","createElement","src","parentNode","insertBefore","document","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport FB from 'fb';\nimport { isFlowPredicate } from '@babel/types';\n\nclass User extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            accessToken: '',\n            email: '',\n            name: '',\n            userID: ''\n        }\n        this.onSubmit = this.onSubmit.bind(this);\n    }\n\n    componentDidMount() {\n        let userID = localStorage.getItem(\"KEY\");\n\n        fetch(`/getuserdata/${userID}`, {\n            method: 'GET',\n            headers: {\n              'content-type': 'application/json'\n            }\n        })\n        .then(response => response.json())\n        .then(jsonData => {\n            this.setState({\n                accessToken: jsonData.accessToken,\n                email: jsonData.email,\n                name: jsonData.name,\n                userID: jsonData.userID\n            });\n        }); \n        localStorage.removeItem(\"KEY\");  \n    }\n\n    onSubmit() {\n        window.fbAsyncInit = function() {\n            FB.init({\n                appId      : '455695445269575',\n                cookie     : true,\n                xfbml      : true, \n                version    : 'v3.3'\n            });\n        \n            FB.getLoginStatus(function(response) {\n                FB.logout(function(response) {\n                    window.location.href = \"/\";\n                })\n            }.bind(this));\n\n        }.bind(this);\n\n        (function(d, s, id) {\n            var js, fjs = d.getElementsByTagName(s)[0];\n            if (d.getElementById(id)) return;                js = d.createElement(s); js.id = id;\n            js.src = \"//connect.facebook.net/en_US/all.js\";\n            fjs.parentNode.insertBefore(js, fjs);\n        }(document, 'script', 'facebook-jssdk'));\n    }\n\n    render() {\n        return (\n            <div>\n                Codecool\n                <br />\n                <br />\n                <button onClick={this.onSubmit}>Logout</button>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(User);"]},"metadata":{},"sourceType":"module"}