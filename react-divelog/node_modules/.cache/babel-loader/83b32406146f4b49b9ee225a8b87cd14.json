{"ast":null,"code":"const request = options => {\n  const headers = new Headers({\n    'Content-Type': 'application/json',\n    'Accept': 'application/json',\n    'Authorization': 'Basic ' + base64.encode(username + \":\" + password),\n    'Origin': 'http://localhost:3000'\n  });\n\n  if (localStorage.getItem(\"ACCESS_TOKEN\")) {\n    headers.append('Authorization', 'Bearer ' + localStorage.getItem(\"ACCESS_TOKEN\"));\n  }\n\n  const defaults = {\n    headers: headers\n  };\n  options = Object.assign({}, defaults, options);\n  return fetch(options.url, options).then(response => response.json().then(json => {\n    if (!response.ok) {\n      return Promise.reject(json);\n    }\n\n    return json;\n  }));\n};\n\nexport function login(loginRequest) {\n  return request({\n    url: \"http://localhost:8080/login/facebook\",\n    method: 'GET'\n  });\n}","map":{"version":3,"sources":["/home/msi/Pulpit/Divelog/react-divelog/src/util/APIUtil.js"],"names":["request","options","headers","Headers","base64","encode","username","password","localStorage","getItem","append","defaults","Object","assign","fetch","url","then","response","json","ok","Promise","reject","login","loginRequest","method"],"mappings":"AAAA,MAAMA,OAAO,GAAIC,OAAD,IAAa;AACzB,QAAMC,OAAO,GAAG,IAAIC,OAAJ,CAAY;AACxB,oBAAgB,kBADQ;AAExB,cAAU,kBAFc;AAGxB,qBAAiB,WAAWC,MAAM,CAACC,MAAP,CAAcC,QAAQ,GAAG,GAAX,GAAkBC,QAAhC,CAHJ;AAIxB,cAAU;AAJc,GAAZ,CAAhB;;AAOA,MAAGC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAH,EAAyC;AACrCP,IAAAA,OAAO,CAACQ,MAAR,CAAe,eAAf,EAAgC,YAAYF,YAAY,CAACC,OAAb,CAAqB,cAArB,CAA5C;AACH;;AAED,QAAME,QAAQ,GAAG;AAACT,IAAAA,OAAO,EAAEA;AAAV,GAAjB;AACAD,EAAAA,OAAO,GAAGW,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBF,QAAlB,EAA4BV,OAA5B,CAAV;AAEA,SAAOa,KAAK,CAACb,OAAO,CAACc,GAAT,EAAcd,OAAd,CAAL,CACNe,IADM,CACDC,QAAQ,IACVA,QAAQ,CAACC,IAAT,GAAgBF,IAAhB,CAAqBE,IAAI,IAAI;AACzB,QAAG,CAACD,QAAQ,CAACE,EAAb,EAAiB;AACb,aAAOC,OAAO,CAACC,MAAR,CAAeH,IAAf,CAAP;AACH;;AACD,WAAOA,IAAP;AACH,GALD,CAFG,CAAP;AASH,CAxBD;;AA0BA,OAAO,SAASI,KAAT,CAAeC,YAAf,EAA6B;AAChC,SAAOvB,OAAO,CAAC;AACXe,IAAAA,GAAG,EAAE,sCADM;AAEXS,IAAAA,MAAM,EAAE;AAFG,GAAD,CAAd;AAIH","sourcesContent":["const request = (options) => {\n    const headers = new Headers({\n        'Content-Type': 'application/json',\n        'Accept': 'application/json',\n        'Authorization': 'Basic ' + base64.encode(username + \":\" +  password),\n        'Origin': 'http://localhost:3000'\n    })\n    \n    if(localStorage.getItem(\"ACCESS_TOKEN\")) {\n        headers.append('Authorization', 'Bearer ' + localStorage.getItem(\"ACCESS_TOKEN\"))\n    }\n\n    const defaults = {headers: headers};\n    options = Object.assign({}, defaults, options);\n\n    return fetch(options.url, options)\n    .then(response => \n        response.json().then(json => {\n            if(!response.ok) {\n                return Promise.reject(json);\n            }\n            return json;\n        })\n    );\n};\n\nexport function login(loginRequest) {\n    return request({\n        url: \"http://localhost:8080/login/facebook\",\n        method: 'GET'\n    });\n}"]},"metadata":{},"sourceType":"module"}