{"ast":null,"code":"!function (e, t) {\n  if (\"object\" == typeof exports && \"object\" == typeof module) module.exports = t(require(\"prop-types\"), require(\"filestack-js\"), require(\"react\"));else if (\"function\" == typeof define && define.amd) define([\"prop-types\", \"filestack-js\", \"react\"], t);else {\n    var n = \"object\" == typeof exports ? t(require(\"prop-types\"), require(\"filestack-js\"), require(\"react\")) : t(e[\"prop-types\"], e[\"filestack-js\"], e.react);\n\n    for (var o in n) (\"object\" == typeof exports ? exports : e)[o] = n[o];\n  }\n}(window, function (e, t, n) {\n  return function (e) {\n    var t = {};\n\n    function n(o) {\n      if (t[o]) return t[o].exports;\n      var r = t[o] = {\n        i: o,\n        l: !1,\n        exports: {}\n      };\n      return e[o].call(r.exports, r, r.exports, n), r.l = !0, r.exports;\n    }\n\n    return n.m = e, n.c = t, n.d = function (e, t, o) {\n      n.o(e, t) || Object.defineProperty(e, t, {\n        enumerable: !0,\n        get: o\n      });\n    }, n.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, n.t = function (e, t) {\n      if (1 & t && (e = n(e)), 8 & t) return e;\n      if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n      var o = Object.create(null);\n      if (n.r(o), Object.defineProperty(o, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & t && \"string\" != typeof e) for (var r in e) n.d(o, r, function (t) {\n        return e[t];\n      }.bind(null, r));\n      return o;\n    }, n.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return n.d(t, \"a\", t), t;\n    }, n.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, n.p = \"\", n(n.s = 3);\n  }([function (t, n) {\n    t.exports = e;\n  }, function (e, n) {\n    e.exports = t;\n  }, function (e, t) {\n    e.exports = n;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.r(t);\n    var o = n(1),\n        r = n(2),\n        i = n.n(r),\n        c = n(0),\n        a = n.n(c);\n\n    function u(e) {\n      return (u = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    function s(e) {\n      for (var t = 1; t < arguments.length; t++) {\n        var n = null != arguments[t] ? arguments[t] : {},\n            o = Object.keys(n);\n        \"function\" == typeof Object.getOwnPropertySymbols && (o = o.concat(Object.getOwnPropertySymbols(n).filter(function (e) {\n          return Object.getOwnPropertyDescriptor(n, e).enumerable;\n        }))), o.forEach(function (t) {\n          m(e, t, n[t]);\n        });\n      }\n\n      return e;\n    }\n\n    function l(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var o = t[n];\n        o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, o.key, o);\n      }\n    }\n\n    function p(e) {\n      return (p = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      })(e);\n    }\n\n    function f(e) {\n      if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n      return e;\n    }\n\n    function y(e, t) {\n      return (y = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      })(e, t);\n    }\n\n    function m(e, t, n) {\n      return t in e ? Object.defineProperty(e, t, {\n        value: n,\n        enumerable: !0,\n        configurable: !0,\n        writable: !0\n      }) : e[t] = n, e;\n    }\n\n    var d = function (e) {\n      function t(e) {\n        var n, r, i;\n        !function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, t), r = this, i = p(t).call(this, e), n = !i || \"object\" !== u(i) && \"function\" != typeof i ? f(r) : i, m(f(n), \"onClickPick\", function (e) {\n          e.stopPropagation(), e.preventDefault(), n.completeAction().then(n.onFinished).catch(n.onFail);\n        }), m(f(n), \"onFinished\", function (e) {\n          var t = n.props.onSuccess;\n          \"function\" == typeof t && e && t(e);\n        }), m(f(n), \"onFail\", function (e) {\n          var t = n.props.onError;\n          \"function\" == typeof t ? t(e) : console.error(e);\n        }), m(f(n), \"completeAction\", function () {\n          var e = n.state,\n              t = e.client,\n              o = e.picker,\n              r = n.props,\n              i = r.actionOptions,\n              c = r.action,\n              a = r.clientOptions.security,\n              u = r.file,\n              s = r.source;\n\n          switch (c) {\n            case \"transform\":\n              return new Promise(function (e, n) {\n                try {\n                  e(t.transform(s, i));\n                } catch (e) {\n                  n(e);\n                }\n              });\n\n            case \"retrieve\":\n              return t.retrieve(s, i, a);\n\n            case \"metadata\":\n              return t.metadata(s, i, a);\n\n            case \"storeUrl\":\n              return t.storeURL(s, i, a);\n\n            case \"upload\":\n              return t.upload(u, i);\n\n            case \"remove\":\n              return t.remove(s, a);\n\n            case \"removeMetadata\":\n              return t.removeMetadata(s, a);\n\n            case \"preview\":\n              return t.preview(s, i);\n\n            case \"logout\":\n              return t.logout(i);\n\n            default:\n              return o.open();\n          }\n        });\n        var c = n.props,\n            a = c.apikey,\n            l = c.clientOptions,\n            y = c.actionOptions,\n            d = c.action,\n            b = c.componentDisplayMode,\n            v = o.init(a, l);\n        return n.state = {\n          client: v,\n          picker: \"pick\" === d ? v.picker(s({}, y, {\n            onUploadDone: n.onFinished\n          })) : null,\n          componentDisplayModeMerged: s({}, {\n            type: \"button\",\n            customText: \"Pick file\",\n            customClass: \"filestack-react\"\n          }, b)\n        }, n.onFinished = n.onFinished.bind(f(n)), n.onFail = n.onFail.bind(f(n)), n;\n      }\n\n      var n, c, a;\n      return function (e, t) {\n        if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n        e.prototype = Object.create(t && t.prototype, {\n          constructor: {\n            value: e,\n            writable: !0,\n            configurable: !0\n          }\n        }), t && y(e, t);\n      }(t, r[\"Component\"]), n = t, (c = [{\n        key: \"componentWillMount\",\n        value: function () {\n          var e = this.props.customRender;\n          \"immediate\" !== this.state.componentDisplayModeMerged.type || e || this.completeAction().then(this.onFinished).catch(this.onFail);\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function () {\n          var e = this.props.action,\n              t = this.state.picker;\n          \"pick\" === e && t.close();\n        }\n      }, {\n        key: \"render\",\n        value: function () {\n          var e = this.props.customRender,\n              t = this.state.componentDisplayModeMerged,\n              n = t.type,\n              o = t.customText,\n              r = t.customClass;\n          if (e) return i.a.createElement(e, {\n            onPick: this.onClickPick\n          });\n          if (\"immediate\" === n) return null;\n          var c = {\n            button: \"button\",\n            link: \"a\"\n          }[n];\n          return i.a.createElement(c, {\n            name: \"filestack\",\n            onClick: this.onClickPick,\n            className: r\n          }, o);\n        }\n      }]) && l(n.prototype, c), a && l(n, a), t;\n    }();\n\n    m(d, \"defaultProps\", {\n      action: \"pick\",\n      componentDisplayMode: {\n        type: \"button\",\n        customText: \"Pick file\",\n        customClass: \"filestack-react\"\n      },\n      actionOptions: {},\n      onSuccess: function (e) {\n        return console.log(e);\n      },\n      onError: function (e) {\n        return console.error(e);\n      },\n      clientOptions: {},\n      file: null,\n      source: null,\n      customRender: null\n    }), m(d, \"propTypes\", {\n      apikey: a.a.string.isRequired,\n      action: a.a.oneOf([\"transform\", \"retrieve\", \"metadata\", \"storeUrl\", \"upload\", \"remove\", \"pick\", \"removeMetadata\", \"preview\", \"logout\"]),\n      componentDisplayMode: a.a.objectOf(a.a.any),\n      actionOptions: a.a.objectOf(a.a.any),\n      onSuccess: a.a.func,\n      onError: a.a.func,\n      clientOptions: a.a.shape({\n        cname: a.a.string,\n        security: a.a.objectOf(a.a.any),\n        sessionCache: a.a.bool\n      }),\n      file: a.a.objectOf(a.a.any),\n      source: a.a.string,\n      customRender: a.a.func\n    });\n    var b = d;\n    n.d(t, \"client\", function () {\n      return o;\n    });\n    t.default = b;\n  }]);\n});","map":null,"metadata":{},"sourceType":"script"}