{"ast":null,"code":"var _jsxFileName = \"/home/huber/Pulpit/divelog/react-divelog/src/components/Layout/TwitterGroupsCard.js\";\nimport React from 'react';\nimport '../../css/TwitterGroupsCard.css';\nimport AuthService from '../../util/AuthService';\nimport axios from 'axios';\nimport $ from 'jquery';\n\nclass TwitterGroupsCard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchPeople: '',\n      timeInterval: 0,\n      searchPeopleList: [],\n      isSearched: false\n    };\n    this.Auth = new AuthService();\n    this.twitterJwtToken = this.Auth.getTwitterToken();\n    this.onTwitterSearchChange = this.onTwitterSearchChange.bind(this);\n    this.getUsers = this.getUsers.bind(this);\n    this.getPeopleList = this.getPeopleList.bind(this);\n  }\n\n  onTwitterSearchChange(e) {\n    this.setState({\n      searchPeople: e.target.value\n    }, () => {\n      if (this.state.searchPeople && this.state.searchPeople.length > 1) {\n        // if(this.state.searchPeople.length % 2 == 0) {\n        this.getUsers(); // }\n      } else if (!this.state.searchPeople) {\n        var html = $(\".list-searched-people\").html();\n        $(\".list-searched-people\").html(\"\");\n      }\n    });\n  }\n\n  onKeyDown(e) {\n    if (e.keyCode === 8) {\n      console.log(e.target.value); // if(this.state.searchPeople.length === 0) {\n      // $(\".list-searched-people\").html(\"\");\n      // }\n    }\n  }\n\n  getUsers() {\n    let searchPeople = this.state.searchPeople;\n    axios({\n      url: \"/twitter/users/search/\".concat(this.state.searchPeople, \"/\").concat(this.twitterJwtToken),\n      method: 'POST',\n      body: searchPeople,\n      headers: {\n        'Accept': 'application/json, text/plain, */*',\n        'content-type': 'application/json'\n      }\n    }).then(response => {\n      this.setState({\n        searchPeopleList: []\n      }, () => {\n        let listHtml = $(\".list-searched-people\").html();\n\n        if (!listHtml) {\n          $(\".list-searched-people\").html(\"\");\n        }\n      });\n      let counter = 0;\n      response.data.map((person, index) => {\n        if (counter === 10) {\n          return;\n        }\n\n        const element = {\n          id: person.id,\n          name: person.name,\n          pictureUrl: person['400x400ProfileImageURL'],\n          screenName: person.screenName,\n          verified: person.verified\n        };\n        this.setState({\n          searchPeopleList: this.state.searchPeopleList.concat(element)\n        });\n        counter++;\n      });\n      this.setState({\n        isSearched: true\n      });\n    });\n  }\n\n  getPeopleList() {\n    return this.state.searchPeopleList.map((person, index) => {\n      return React.createElement(\"li\", {\n        className: \"list-group-item list-group-search-person\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"search-li-item-float search-1-div\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: person.pictureUrl,\n        className: \"search-picture-person\",\n        alt: \"Person\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"search-li-item-float search-2-div\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, person.name, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }), \"@\", person.screenName), React.createElement(\"div\", {\n        style: {\n          clear: 'both'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }));\n    });\n  }\n\n  render() {\n    let isSearched = this.state.isSearched;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"list-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      id: \"search-twitter-people\",\n      className: \"list-group-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.searchPeople,\n      placeholder: \"Search twitter people\",\n      className: \"form-control input-search-twitter\",\n      onChange: this.onTwitterSearchChange,\n      onKeyDown: this.onKeyDown,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"list-searched-people\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, isSearched && this.getPeopleList())));\n  }\n\n}\n\nexport default TwitterGroupsCard;","map":{"version":3,"sources":["/home/huber/Pulpit/divelog/react-divelog/src/components/Layout/TwitterGroupsCard.js"],"names":["React","AuthService","axios","$","TwitterGroupsCard","Component","constructor","props","state","searchPeople","timeInterval","searchPeopleList","isSearched","Auth","twitterJwtToken","getTwitterToken","onTwitterSearchChange","bind","getUsers","getPeopleList","e","setState","target","value","length","html","onKeyDown","keyCode","console","log","url","method","body","headers","then","response","listHtml","counter","data","map","person","index","element","id","name","pictureUrl","screenName","verified","concat","clear","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../../css/TwitterGroupsCard.css';\nimport AuthService from '../../util/AuthService';\nimport axios from 'axios';\nimport $ from 'jquery';\n\nclass TwitterGroupsCard extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            searchPeople: '',\n            timeInterval: 0,\n            searchPeopleList: [],\n            isSearched: false\n        }\n        this.Auth = new AuthService();\n        this.twitterJwtToken = this.Auth.getTwitterToken();\n\n        this.onTwitterSearchChange = this.onTwitterSearchChange.bind(this);\n        this.getUsers = this.getUsers.bind(this);\n        this.getPeopleList = this.getPeopleList.bind(this);\n    }\n\n    onTwitterSearchChange(e) {\n        this.setState({\n            searchPeople: e.target.value\n        }, () => {\n            if(this.state.searchPeople && this.state.searchPeople.length > 1) {\n                // if(this.state.searchPeople.length % 2 == 0) {\n                    this.getUsers();\n                // }\n            } else if(!this.state.searchPeople) {\n                var html = $(\".list-searched-people\").html();\n                $(\".list-searched-people\").html(\"\");\n            }\n        });\n    }\n\n    onKeyDown(e) {\n        if(e.keyCode === 8) {\n            console.log(e.target.value);\n            // if(this.state.searchPeople.length === 0) {\n                // $(\".list-searched-people\").html(\"\");\n            // }\n        }\n    }\n\n    getUsers() {\n        let searchPeople = this.state.searchPeople;\n        axios({ \n            url: `/twitter/users/search/${this.state.searchPeople}/${this.twitterJwtToken}`,\n            method: 'POST',\n            body: searchPeople,\n            headers: {\n                'Accept': 'application/json, text/plain, */*',\n                'content-type': 'application/json'\n            }\n        }).then(response => {\n            this.setState({ searchPeopleList: [] }, () => {\n                let listHtml = $(\".list-searched-people\").html(); \n                if(!listHtml) {\n                    $(\".list-searched-people\").html(\"\"); \n                }\n            })\n            let counter = 0;\n            response.data.map((person, index) => {\n                if(counter === 10) {\n                    return;\n                }\n                const element = {\n                    id: person.id,\n                    name: person.name,\n                    pictureUrl: person['400x400ProfileImageURL'],\n                    screenName: person.screenName,\n                    verified: person.verified\n                }\n                this.setState({ searchPeopleList: this.state.searchPeopleList.concat(element) });\n                counter++;\n            }); \n            this.setState({ isSearched: true });\n        });\n    }\n\n    getPeopleList() {\n        return this.state.searchPeopleList.map((person, index) => {\n            return (\n                <li className=\"list-group-item list-group-search-person\">\n                    <div className=\"search-li-item-float search-1-div\">\n                        <img src={person.pictureUrl} className=\"search-picture-person\" alt=\"Person\" />\n                    </div>\n                    <div className=\"search-li-item-float search-2-div\">\n                        {person.name}\n                        <br />\n                        @{person.screenName}\n                    </div>\n                    <div style={{ clear: 'both' }}></div>\n                </li>\n            );\n        });\n    }\n\n    render() {\n        let isSearched = this.state.isSearched;\n\n        return (\n            <div>\n                <ul className=\"list-group\">\n                    <li id=\"search-twitter-people\" className=\"list-group-item\">\n                        <input \n                            type=\"text\"\n                            value={this.state.searchPeople}\n                            placeholder=\"Search twitter people\"\n                            className=\"form-control input-search-twitter\"\n                            onChange={this.onTwitterSearchChange}\n                            onKeyDown={this.onKeyDown}\n                        />\n                    </li>\n                    <div className=\"list-searched-people\">\n                        { isSearched && this.getPeopleList() }\n                    </div>\n                </ul>\n            </div>\n        );\n    }\n}\n\nexport default TwitterGroupsCard;"]},"metadata":{},"sourceType":"module"}