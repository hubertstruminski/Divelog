{"ast":null,"code":"var _jsxFileName = \"/home/msi/Pulpit/Divelog/react-divelog/src/components/googleMaps/GoogleMap.js\";\nimport React from 'react';\nimport '../../css/GoogleMap.css';\nimport { Map, Marker, GoogleApiWrapper, InfoWindow } from 'google-maps-react';\nimport ModalVertically from '../Layout/ModalVertically';\nimport $ from 'jquery';\n\nclass GoogleMap extends React.Component {\n  constructor(_props) {\n    super(_props);\n\n    this.showMarkers = () => {\n      return this.state.markers.map((marker, index) => {\n        return React.createElement(Marker, {\n          key: index,\n          position: {\n            lat: marker.lat,\n            lng: marker.lng\n          },\n          onClick: this.onMarkerClick,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        });\n      });\n    };\n\n    this.onMarkerClick = (props, marker, e) => {\n      this.setState({\n        selectedPlace: props,\n        activeMarker: marker,\n        showingInfoWindow: true\n      });\n    };\n\n    this.onClose = props => {\n      if (this.state.showingInfoWindow) {\n        this.setState({\n          showingInfoWindow: false,\n          activeMarker: null\n        });\n      }\n    };\n\n    this.state = {\n      isLoading: true,\n      showingInfoWindow: false,\n      activeMarker: {},\n      selectedPlace: {},\n      markers: [],\n      isClickedMap: false,\n      latitude: '',\n      longitude: '',\n      markerName: ''\n    };\n    this.onMapClick = this.onMapClick.bind(this);\n    this.setClickedModal = this.setClickedModal.bind(this);\n    this.setNameForMarker = this.setNameForMarker.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      isLoading: false\n    });\n    this.setState({\n      markers: [{\n        name: 'Paryż',\n        lat: 48.887,\n        lng: 2.343\n      }, {\n        name: 'Hubert Strumiński',\n        lat: 49.748,\n        lng: 20.731\n      }, {\n        name: 'Berlin',\n        lat: 52.518,\n        lng: 13.373\n      }]\n    });\n  }\n\n  onMapClick(t, map, coord) {\n    const latLng = coord.latLng;\n    const lat = latLng.lat();\n    const lng = latLng.lng();\n    this.setState({\n      latitude: lat,\n      longitude: lng\n    });\n    $(document).on('show.bs.modal', \"#modalCenter\", function (event) {\n      $('#name').trigger('focus');\n    });\n    $(\"#modalCenter\").modal('show');\n  }\n\n  setClickedModal() {\n    this.setState({\n      isClickedMap: true\n    });\n  }\n\n  setNameForMarker(newName) {\n    this.setState({\n      markerName: newName\n    });\n  }\n\n  render() {\n    const mapStyle = {\n      width: '70%',\n      height: '60%',\n      position: 'absolute',\n      left: '50%',\n      top: '50%',\n      '-webkit-transform': 'translate(-50%, -50%)',\n      transform: 'translate(-50%, -50%)'\n    };\n    let loadingScreen = React.createElement(\"div\", {\n      class: \"d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"spinner-grow\",\n      role: \"status\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      class: \"sr-only\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Loading...\")));\n    let map = React.createElement(\"div\", {\n      className: \"google-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(Map, {\n      google: this.props.google,\n      zoom: 5,\n      style: mapStyle,\n      initialCenter: {\n        lat: 50.087,\n        lng: 14.421\n      },\n      onClick: this.onMapClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, this.showMarkers(), React.createElement(InfoWindow, {\n      marker: this.state.activeMarker,\n      visible: this.state.showingInfoWindow,\n      onClose: this.onClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"alert alert-success\",\n      role: \"alert\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, this.state.selectedPlace.name)))), React.createElement(ModalVertically, {\n      latitude: this.state.latitude,\n      longitude: this.state.longitude,\n      setClickedModal: this.setClickedModal,\n      setNameForMarker: this.setNameForMarker,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }));\n    let content = this.state.isLoading ? loadingScreen : map;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, content);\n  }\n\n}\n\nexport default GoogleApiWrapper(props => ({\n  apiKey: 'AIzaSyBgb4kpatKEjsOGsxplxFyRfw1K_wGhLTo',\n  language: props.language\n}))(GoogleMap);","map":{"version":3,"sources":["/home/msi/Pulpit/Divelog/react-divelog/src/components/googleMaps/GoogleMap.js"],"names":["React","Map","Marker","GoogleApiWrapper","InfoWindow","ModalVertically","$","GoogleMap","Component","constructor","props","showMarkers","state","markers","map","marker","index","lat","lng","onMarkerClick","e","setState","selectedPlace","activeMarker","showingInfoWindow","onClose","isLoading","isClickedMap","latitude","longitude","markerName","onMapClick","bind","setClickedModal","setNameForMarker","componentDidMount","name","t","coord","latLng","document","on","event","trigger","modal","newName","render","mapStyle","width","height","position","left","top","transform","loadingScreen","google","content","apiKey","language"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../../css/GoogleMap.css';\nimport { Map, Marker, GoogleApiWrapper, InfoWindow } from 'google-maps-react';\nimport ModalVertically from '../Layout/ModalVertically';\nimport $ from 'jquery';\n\nclass GoogleMap extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            isLoading: true,\n            showingInfoWindow: false,\n            activeMarker: {},\n            selectedPlace: {},\n            markers: [],\n            isClickedMap: false,\n            latitude: '',\n            longitude: '',\n            markerName: ''\n        }\n        this.onMapClick = this.onMapClick.bind(this);\n        this.setClickedModal = this.setClickedModal.bind(this);\n        this.setNameForMarker = this.setNameForMarker.bind(this);\n    }\n\n    componentDidMount() {\n        this.setState({ isLoading: false });\n\n        this.setState({\n            markers: [\n                {name: 'Paryż', lat: 48.887, lng: 2.343 },\n                {name: 'Hubert Strumiński', lat: 49.748, lng: 20.731 },\n                {name: 'Berlin', lat: 52.518, lng: 13.373  }\n            ]\n        })\n    }\n\n    showMarkers = () => {\n        return this.state.markers.map((marker, index) => {\n            return (\n                <Marker \n                    key={index} \n                    position={{ lat: marker.lat, lng: marker.lng }}\n                    onClick={this.onMarkerClick}\n                />\n            );\n        })\n    }\n\n    onMarkerClick = (props, marker, e) => {\n        this.setState({\n            selectedPlace: props,\n            activeMarker: marker,\n            showingInfoWindow: true\n        });\n    }\n\n    onClose = props => {\n        if(this.state.showingInfoWindow) {\n            this.setState({\n                showingInfoWindow: false,\n                activeMarker: null\n            });\n        }\n    };\n\n    onMapClick(t, map, coord) {\n        const { latLng } = coord;\n        const lat = latLng.lat();\n        const lng = latLng.lng();\n\n        this.setState({ \n            latitude: lat,\n            longitude: lng\n        })\n\n        $(document).on('show.bs.modal', \"#modalCenter\", function (event) {\n            $('#name').trigger('focus');\n        });\n        $(\"#modalCenter\").modal('show');\n    }\n\n    setClickedModal() {\n        this.setState({ isClickedMap: true });\n    }\n\n    setNameForMarker(newName) {\n        this.setState({ markerName: newName });\n    }\n\n    render() {\n        const mapStyle = {\n            width: '70%',\n            height: '60%',\n            position: 'absolute',\n            left: '50%',\n            top: '50%',\n            '-webkit-transform': 'translate(-50%, -50%)',\n            transform: 'translate(-50%, -50%)'\n        }\n\n        let loadingScreen = (\n            <div class=\"d-flex justify-content-center\">\n                <div class=\"spinner-grow\" role=\"status\">\n                    <span class=\"sr-only\">Loading...</span>\n                </div>\n            </div>\n        )\n\n        let map = (\n            <div className=\"google-container\">\n                <Map\n                    google={this.props.google}\n                    zoom={5}\n                    style={mapStyle}\n                    initialCenter={{ lat: 50.087, lng: 14.421}}\n                    onClick={this.onMapClick}\n                >\n                    { this.showMarkers() }\n                    <InfoWindow\n                        marker={this.state.activeMarker}\n                        visible={this.state.showingInfoWindow}\n                        onClose={this.onClose}\n                    >\n                    <div className=\"alert alert-success\" role=\"alert\">\n                        <h4>{this.state.selectedPlace.name}</h4>\n                    </div>\n                    </InfoWindow>\n                </Map>\n                <ModalVertically \n                    latitude={this.state.latitude}\n                    longitude={this.state.longitude}\n                    setClickedModal={this.setClickedModal}\n                    setNameForMarker={this.setNameForMarker}\n                />\n            </div>\n            \n        )\n        let content = this.state.isLoading ? loadingScreen : map;\n\n        return (\n            <div>\n                { content }\n            </div>\n        );\n    }\n}\n\nexport default GoogleApiWrapper(\n    (props) => ({\n      apiKey: 'AIzaSyBgb4kpatKEjsOGsxplxFyRfw1K_wGhLTo',\n      language: props.language,\n    }\n  ))(GoogleMap);"]},"metadata":{},"sourceType":"module"}