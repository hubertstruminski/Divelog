{"ast":null,"code":"var _jsxFileName = \"/home/huber/Pulpit/divelog/react-divelog/src/components/logbook/GoogleLogbookMap.js\";\nimport React from 'react';\nimport GoogleMap from '../googleMaps/GoogleMap';\nimport { Map, Marker, GoogleApiWrapper, InfoWindow } from 'google-maps-react';\nimport GoogleModal from '../googleMaps/GoogleModal';\nimport $ from 'jquery';\nimport { withTranslation } from 'react-i18next';\nimport { compose } from 'redux';\nimport { relative } from 'path';\n\nclass GoogleLogbookMap extends React.Component {\n  constructor() {\n    super();\n\n    this.onMarkerClick = (props, marker, e) => {\n      this.setState({\n        selectedPlace: props,\n        activeMarker: marker,\n        showingInfoWindow: true\n      });\n    };\n\n    this.onClose = props => {\n      if (this.state.showingInfoWindow) {\n        this.setState({\n          showingInfoWindow: false,\n          activeMarker: null\n        });\n      }\n    };\n\n    this.state = {\n      latitude: '',\n      longitude: '',\n      marker: {},\n      activeMarker: {},\n      showingInfoWIndow: false,\n      selectedPlace: {}\n    };\n    this.onMapClick = this.onMapClick.bind(this);\n  }\n\n  onMapClick(t, map, coord) {\n    const latLng = coord.latLng;\n    const lat = latLng.lat();\n    const lng = latLng.lng();\n    this.setState({\n      latitude: lat,\n      longitude: lng\n    });\n    $(document).on('show.bs.modal', \"#modalCenter\", function (event) {\n      $('#name').trigger('focus');\n    });\n    $(\"#modalCenter\").modal('show');\n  }\n\n  showMarker() {\n    return React.createElement(Marker, {\n      name: this.state.marker.name,\n      position: {\n        lat: this.state.marker.latitude,\n        lng: this.state.marker.longitude\n      },\n      onClick: this.onMarkerClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    });\n  }\n\n  render() {\n    const mapStyle = {\n      position: 'relative',\n      width: '35%',\n      height: '350px'\n    };\n    let loadingScreen = React.createElement(\"div\", {\n      class: \"d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"spinner-grow\",\n      role: \"status\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      class: \"sr-only\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, this.props.t(\"loading\"))));\n    let map = React.createElement(\"div\", {\n      className: \"add-dive-google-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(Map, {\n      google: this.props.google,\n      zoom: 5,\n      style: mapStyle,\n      initialCenter: {\n        lat: 48.023,\n        lng: 14.426\n      },\n      onClick: this.onMapClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, this.showMarker(), React.createElement(InfoWindow, {\n      marker: this.state.activeMarker,\n      visible: this.state.showingInfoWindow,\n      onClose: this.onClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"alert alert-success\",\n      role: \"alert\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, this.state.selectedPlace.name)))), React.createElement(GoogleModal, {\n      latitude: this.state.latitude,\n      longitude: this.state.longitude,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"add-dive-table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"table table-striped table-hover\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"#\")), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, this.props.t(\"googleMap.table.name\")), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, this.props.t(\"googleMap.table.latitude\")), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, this.props.t(\"googleMap.table.longitude\")), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, this.props.t(\"googleMap.table.delete\")))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }))));\n    let content = this.state.isLoading ? loadingScreen : map;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, content);\n  }\n\n}\n\nexport default compose(GoogleApiWrapper(props => ({\n  apiKey: 'AIzaSyBgb4kpatKEjsOGsxplxFyRfw1K_wGhLTo',\n  language: props.language\n})), withTranslation(\"common\"))(GoogleLogbookMap);","map":{"version":3,"sources":["/home/huber/Pulpit/divelog/react-divelog/src/components/logbook/GoogleLogbookMap.js"],"names":["React","GoogleMap","Map","Marker","GoogleApiWrapper","InfoWindow","GoogleModal","$","withTranslation","compose","relative","GoogleLogbookMap","Component","constructor","onMarkerClick","props","marker","e","setState","selectedPlace","activeMarker","showingInfoWindow","onClose","state","latitude","longitude","showingInfoWIndow","onMapClick","bind","t","map","coord","latLng","lat","lng","document","on","event","trigger","modal","showMarker","name","render","mapStyle","position","width","height","loadingScreen","google","content","isLoading","apiKey","language"],"mappings":"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","sourcesContent":["import React from 'react';\nimport GoogleMap from '../googleMaps/GoogleMap';\nimport { Map, Marker, GoogleApiWrapper, InfoWindow } from 'google-maps-react';\nimport GoogleModal from '../googleMaps/GoogleModal';\nimport $ from 'jquery';\nimport { withTranslation } from 'react-i18next';\nimport { compose } from 'redux';\nimport { relative } from 'path';\n\nclass GoogleLogbookMap extends React.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            latitude: '',\n            longitude: '',\n            marker: {},\n            activeMarker: {},\n            showingInfoWIndow: false,\n            selectedPlace: {}\n        }\n        this.onMapClick = this.onMapClick.bind(this);\n    }\n\n    onMapClick(t, map, coord) {\n        const { latLng } = coord;\n        const lat = latLng.lat();\n        const lng = latLng.lng();\n\n        this.setState({ \n            latitude: lat,\n            longitude: lng\n        });\n\n        $(document).on('show.bs.modal', \"#modalCenter\", function (event) {\n            $('#name').trigger('focus');\n        });\n        $(\"#modalCenter\").modal('show');\n    }\n\n    onMarkerClick = (props, marker, e) => {\n        this.setState({\n            selectedPlace: props,\n            activeMarker: marker,\n            showingInfoWindow: true\n        });\n    }\n\n    onClose = props => {\n        if(this.state.showingInfoWindow) {\n            this.setState({\n                showingInfoWindow: false,\n                activeMarker: null\n            });\n        }\n    };\n\n    showMarker() {\n        return (\n            <Marker \n                name={this.state.marker.name}\n                position={{ lat: this.state.marker.latitude, lng: this.state.marker.longitude }}\n                onClick={this.onMarkerClick}\n            />\n        );\n    }\n\n    render() {\n        const mapStyle = {\n            position: 'relative',\n            width: '35%',\n            height: '350px',\n        }\n\n        let loadingScreen = (\n            <div class=\"d-flex justify-content-center\">\n                <div class=\"spinner-grow\" role=\"status\">\n                    <span class=\"sr-only\">\n                        {this.props.t(\"loading\")}\n                    </span>\n                </div>\n            </div>\n        )\n\n        let map = (\n            <div className=\"add-dive-google-container\">\n                <div>\n                    <Map\n                        google={this.props.google}\n                        zoom={5}\n                        style={mapStyle}\n                        initialCenter={{ lat: 48.023, lng: 14.426}}\n                        onClick={this.onMapClick}\n                    >\n                        { this.showMarker() }\n                        <InfoWindow\n                            marker={this.state.activeMarker}\n                            visible={this.state.showingInfoWindow}\n                            onClose={this.onClose}\n                        >\n                        <div className=\"alert alert-success\" role=\"alert\">\n                            <h4>{this.state.selectedPlace.name}</h4>\n                        </div>\n                        </InfoWindow>\n                    </Map>\n                    <GoogleModal \n                        latitude={this.state.latitude}\n                        longitude={this.state.longitude}\n                    />\n                </div>\n                <div className=\"add-dive-table\">\n                    <table className=\"table table-striped table-hover\">\n                        <thead>\n                            <tr>\n                                <th scope=\"col\">\n                                    <b>#</b>\n                                </th>\n                                <th scope=\"col\">\n                                    {this.props.t(\"googleMap.table.name\")}\n                                </th>\n                                <th scope=\"col\">\n                                    {this.props.t(\"googleMap.table.latitude\")}\n                                </th>\n                                <th scope=\"col\">\n                                    {this.props.t(\"googleMap.table.longitude\")}\n                                </th>\n                                <th scope=\"col\">\n                                    {this.props.t(\"googleMap.table.delete\")}\n                                </th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {/* { this.showTableRows() } */}\n                        </tbody>\n                    </table>\n                </div>\n            </div>     \n        )\n        let content = this.state.isLoading ? loadingScreen : map;\n\n        return (\n            <div>\n                { content }\n            </div>\n        );\n    }\n}\n\nexport default compose(\n    GoogleApiWrapper(\n    (props) => ({\n      apiKey: 'AIzaSyBgb4kpatKEjsOGsxplxFyRfw1K_wGhLTo',\n      language: props.language,\n    }\n  )),\n    withTranslation(\"common\")\n  )(GoogleLogbookMap);"]},"metadata":{},"sourceType":"module"}