{"ast":null,"code":"var _jsxFileName = \"/home/huber/Pulpit/divelog/react-divelog/src/components/forum/Topic.js\";\nimport React from 'react';\nimport '../../css/Topic.css';\nimport { withRouter } from 'react-router';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport $ from 'jquery';\n\nclass Topic extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      numberDisplays: 0,\n      numberComments: 0,\n      likes: 0,\n      isUpVoted: false,\n      isDownVoted: false\n    };\n    this.onTopicClick = this.onTopicClick.bind(this);\n    this.onUpVote = this.onUpVote.bind(this);\n    this.onDownVote = this.onDownVote.bind(this);\n  }\n\n  componentDidMount() {\n    let jwtToken = localStorage.getItem(\"JwtToken\");\n    let topicId = this.props.id;\n    fetch(\"/get/topic/number/comments/\".concat(topicId, \"/\").concat(jwtToken), {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json, text/plain, */*',\n        'content-type': 'application/json'\n      }\n    }).then(response => response.json()).then(jsonData => {\n      this.setState({\n        numberDisplays: jsonData.numberDisplay,\n        numberComments: jsonData.numberComments,\n        likes: jsonData.likes\n      });\n    });\n  }\n\n  onTopicClick(e) {\n    e.preventDefault();\n    this.props.history.push(\"/topic/\".concat(this.props.id, \"/\").concat(this.props.languageForum, \"/posts\"));\n  }\n\n  onUpVote() {\n    if (!this.state.isUpVoted) {\n      let isUpVoted = true;\n      axios({\n        method: 'PUT',\n        url: \"/topic/likes/vote/\".concat(this.props.id),\n        data: isUpVoted,\n        headers: {\n          \"Accept\": \"application/json\",\n          \"Content-type\": \"application/json\"\n        }\n      }).then(response => {\n        if (response.status !== 200) {\n          swal(\"Error\", \"Something goes wrong.\", \"error\");\n        } else {\n          this.setState({\n            numberDisplays: 0,\n            numberComments: 0,\n            likes: 0,\n            isUpVoted: true,\n            isDownVoted: false\n          }, () => {\n            $(\".fa-chevron-circle-up\").css({\n              \"color\": \"red\"\n            });\n            $(\".fa-chevron-circle-down\").css({\n              \"color\": \"white\"\n            });\n            let jwtToken = localStorage.getItem(\"JwtToken\");\n            let topicId = this.props.id;\n            fetch(\"/get/topic/number/comments/\".concat(topicId, \"/\").concat(jwtToken), {\n              method: 'GET',\n              headers: {\n                'Accept': 'application/json, text/plain, */*',\n                'content-type': 'application/json'\n              }\n            }).then(response => response.json()).then(jsonData => {\n              this.setState({\n                numberDisplays: jsonData.numberDisplay,\n                numberComments: jsonData.numberComments,\n                likes: jsonData.likes\n              });\n            });\n          });\n        }\n      });\n    }\n  }\n\n  onDownVote() {\n    if (!this.state.isDownVoted) {\n      let isUpVoted = false;\n      axios({\n        method: 'PUT',\n        url: \"/topic/likes/vote/\".concat(this.props.id),\n        data: isUpVoted,\n        headers: {\n          \"Accept\": \"application/json\",\n          \"Content-type\": \"application/json\"\n        }\n      }).then(response => {\n        if (response.status !== 200) {\n          swal(\"Error\", \"Something goes wrong.\", \"error\");\n        } else {\n          this.setState({\n            numberDisplays: 0,\n            numberComments: 0,\n            likes: 0,\n            isDownVoted: true,\n            isUpVoted: false\n          }, () => {\n            $(\".fa-chevron-circle-up\").css({\n              \"color\": \"white\"\n            });\n            $(\".fa-chevron-circle-down\").css({\n              \"color\": \"red\"\n            });\n            let jwtToken = localStorage.getItem(\"JwtToken\");\n            let topicId = this.props.id;\n            fetch(\"/get/topic/number/comments/\".concat(topicId, \"/\").concat(jwtToken), {\n              method: 'GET',\n              headers: {\n                'Accept': 'application/json, text/plain, */*',\n                'content-type': 'application/json'\n              }\n            }).then(response => response.json()).then(jsonData => {\n              this.setState({\n                numberDisplays: jsonData.numberDisplay,\n                numberComments: jsonData.numberComments,\n                likes: jsonData.likes\n              });\n            });\n          });\n        }\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"topic-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"topic-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"grid-topic-one\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-chevron-circle-up like-icon\",\n      onClick: this.onUpVote,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"counter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, this.state.likes), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-chevron-circle-down like-icon\",\n      onClick: this.onDownVote,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"grid-topic-two\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"title-topic\",\n      onClick: this.onTopicClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, this.props.title), React.createElement(\"div\", {\n      className: \"owner-topic\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"floating-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, this.props.owner), React.createElement(\"span\", {\n      className: \"floating-div float-two-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, this.props.createdAt), React.createElement(\"div\", {\n      style: {\n        clear: 'both'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"grid-topic-three\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, this.state.numberComments), \" comments\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, this.state.numberDisplays), \" display\"))));\n  }\n\n}\n\nexport default withRouter(Topic);","map":{"version":3,"sources":["/home/huber/Pulpit/divelog/react-divelog/src/components/forum/Topic.js"],"names":["React","withRouter","axios","swal","$","Topic","Component","constructor","props","state","numberDisplays","numberComments","likes","isUpVoted","isDownVoted","onTopicClick","bind","onUpVote","onDownVote","componentDidMount","jwtToken","localStorage","getItem","topicId","id","fetch","method","headers","then","response","json","jsonData","setState","numberDisplay","e","preventDefault","history","push","languageForum","url","data","status","css","render","title","owner","createdAt","clear"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../../css/Topic.css';\nimport { withRouter } from 'react-router';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport $ from 'jquery';\n\nclass Topic extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            numberDisplays: 0,\n            numberComments: 0,\n            likes: 0,\n            isUpVoted: false,\n            isDownVoted: false\n        }\n        this.onTopicClick = this.onTopicClick.bind(this);\n        this.onUpVote = this.onUpVote.bind(this);\n        this.onDownVote = this.onDownVote.bind(this);\n    }\n\n    componentDidMount() {\n        let jwtToken = localStorage.getItem(\"JwtToken\"); \n        let topicId = this.props.id;\n\n        fetch(`/get/topic/number/comments/${topicId}/${jwtToken}`, {\n            method: 'GET',\n            headers: {\n                'Accept': 'application/json, text/plain, */*',\n                'content-type': 'application/json'\n            }\n        }).then(response => response.json())\n        .then(jsonData => {\n            this.setState({\n                numberDisplays: jsonData.numberDisplay,\n                numberComments: jsonData.numberComments,\n                likes: jsonData.likes\n            });\n        });\n    }\n\n    onTopicClick(e) {\n        e.preventDefault();\n        this.props.history.push(`/topic/${this.props.id}/${this.props.languageForum}/posts`);\n    }\n\n    onUpVote() {\n        if(!this.state.isUpVoted) {\n            let isUpVoted = true;    \n            axios({\n                method: 'PUT',\n                url: `/topic/likes/vote/${this.props.id}`,\n                data: isUpVoted,\n                headers: {\n                    \"Accept\": \"application/json\",\n                    \"Content-type\": \"application/json\"\n                }\n            }).then(response => {\n                if(response.status !== 200) {\n                    swal(\"Error\", \"Something goes wrong.\", \"error\");\n                } else {\n                    this.setState({\n                        numberDisplays: 0,\n                        numberComments: 0,\n                        likes: 0,\n                        isUpVoted: true,\n                        isDownVoted: false\n                    }, () => {\n                        $(\".fa-chevron-circle-up\").css({ \"color\": \"red\" });\n                        $(\".fa-chevron-circle-down\").css({ \"color\": \"white\"});\n                        \n                        let jwtToken = localStorage.getItem(\"JwtToken\"); \n                        let topicId = this.props.id;\n\n                        fetch(`/get/topic/number/comments/${topicId}/${jwtToken}`, {\n                            method: 'GET',\n                            headers: {\n                                'Accept': 'application/json, text/plain, */*',\n                                'content-type': 'application/json'\n                            }\n                        }).then(response => response.json())\n                        .then(jsonData => {\n                            this.setState({\n                                numberDisplays: jsonData.numberDisplay,\n                                numberComments: jsonData.numberComments,\n                                likes: jsonData.likes\n                            });\n                        });\n                    });\n                }\n            });\n        } \n    }\n\n    onDownVote() {\n        if(!this.state.isDownVoted) {\n            let isUpVoted = false;\n            axios({\n                method: 'PUT',\n                url: `/topic/likes/vote/${this.props.id}`,\n                data: isUpVoted,\n                headers: {\n                    \"Accept\": \"application/json\",\n                    \"Content-type\": \"application/json\"\n                }\n            }).then(response => {\n                if(response.status !== 200) {\n                    swal(\"Error\", \"Something goes wrong.\", \"error\");\n                } else {\n                    this.setState({\n                        numberDisplays: 0,\n                        numberComments: 0,\n                        likes: 0,\n                        isDownVoted: true,\n                        isUpVoted: false\n                    }, () => {\n                        $(\".fa-chevron-circle-up\").css({ \"color\": \"white\" });\n                        $(\".fa-chevron-circle-down\").css({ \"color\": \"red\"});\n                        \n                        let jwtToken = localStorage.getItem(\"JwtToken\"); \n                        let topicId = this.props.id;\n\n                        fetch(`/get/topic/number/comments/${topicId}/${jwtToken}`, {\n                            method: 'GET',\n                            headers: {\n                                'Accept': 'application/json, text/plain, */*',\n                                'content-type': 'application/json'\n                            }\n                        }).then(response => response.json())\n                        .then(jsonData => {\n                            this.setState({\n                                numberDisplays: jsonData.numberDisplay,\n                                numberComments: jsonData.numberComments,\n                                likes: jsonData.likes\n                            });\n                        });\n                    });\n                }\n            });\n        }\n    }\n\n    render() {\n        return(\n            <div className=\"topic-container\">\n                <div className=\"topic-body\">\n                    <div className=\"grid-topic-one\">\n                        <div>\n                            <i \n                                className=\"fas fa-chevron-circle-up like-icon\"\n                                onClick={this.onUpVote}\n                            >\n                            </i>\n                        </div>\n                        <div className=\"counter\">\n                            { this.state.likes }\n                        </div>\n                        <div>\n                            <i \n                                className=\"fas fa-chevron-circle-down like-icon\"\n                                onClick={this.onDownVote}\n                            >\n                            </i>\n                        </div>\n                    </div>\n                    <div className=\"grid-topic-two\">\n                        <div className=\"title-topic\" onClick={this.onTopicClick}>\n                            { this.props.title }\n                        </div>\n                        <div className=\"owner-topic\">\n                            <span className=\"floating-div\">\n                                { this.props.owner }\n                            </span>\n\n                            <span className=\"floating-div float-two-right\">\n                                {this.props.createdAt }\n                            </span>\n\n                            <div style={{ clear: 'both' }}></div>\n                        </div>\n                    </div>\n                    <div className=\"grid-topic-three\">\n                        <div>\n                            <span>{ this.state.numberComments }</span> comments\n                        </div>\n                        <div>\n                            <span>{ this.state.numberDisplays }</span> display\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(Topic);"]},"metadata":{},"sourceType":"module"}